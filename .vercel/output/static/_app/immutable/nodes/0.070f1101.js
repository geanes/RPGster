import{C as sl,S as Nt,i as Tt,s as mt,k as b,a as I,l as _,m as g,h as d,c as A,n as f,D as al,E as ya,b as U,F as n,G as Na,H as M,I as R,g as W,v as bt,d as ee,f as _t,J as Ht,K as ct,L as Ta,M as Ql,N as ol,O as bl,q as S,r as P,u as Be,P as Ws,Q as zt,R as Ys,T as Xs,U as hl,V as Ks,W as Qs,X as Ve,e as Q,Y as te,Z as oa,_ as Us,$ as Fs,x as Ia,y as St,z as Dt,A as Pt,a0 as Rs,a1 as Zs,B as Ct,a2 as Aa,a3 as La,a4 as xs,a5 as Ms,a6 as Hs,a7 as Vs,a8 as js,w as Yl,a9 as Ll,aa as yt,ab as tt,ac as ra,ad as qs,ae as Gs,af as xt}from"../chunks/index.0c0a85a8.js";import{c as $s,f as _l,s as Sa,a as en,m as Ce,b as Xl,d as Il,e as Bl,g as Kl,t as Sl,h as ul,A as wl,i as Dl,j as Vt,k as Ut,l as nl,n as Al,o as xl,p as $l,q as ea,r as ta,u as la,v as aa,w as sa,x as na}from"../chunks/iconify-icon.b4956ab9.js";const xr=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function tn(t,e){const l=()=>{if(typeof e=="object"){if(Object.prototype.hasOwnProperty.call(e,"element")){const a=document.querySelector(`[data-clipboard="${e.element}"]`);Zl(a==null?void 0:a.innerHTML);return}if(Object.prototype.hasOwnProperty.call(e,"input")){const a=document.querySelector(`[data-clipboard="${e.input}"]`);Zl(a==null?void 0:a.value);return}}Zl(e)};return t.addEventListener("click",l),{update(a){e=a},destroy(){t.removeEventListener("click",l)}}}function Zl(t){navigator.clipboard.writeText(String(t))}function Js(t,e){const l='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';let a,s;function r(h){h.shiftKey&&h.code==="Tab"&&(h.preventDefault(),s.focus())}function o(h){!h.shiftKey&&h.code==="Tab"&&(h.preventDefault(),a.focus())}const i=()=>{if(e===!1)return;const h=Array.from(t.querySelectorAll(l));h.length&&(a=h[0],s=h[h.length-1],a.focus(),a.addEventListener("keydown",r),s.addEventListener("keydown",o))};i();function c(){a&&a.removeEventListener("keydown",r),s&&s.removeEventListener("keydown",o)}return{update(h){e=h,h?i():c()},destroy(){c()}}}function ln(t,{from:e,to:l},a={}){const s=getComputedStyle(t),r=s.transform==="none"?"":s.transform,[o,i]=s.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*o/l.width-(l.left+o),h=e.top+e.height*i/l.height-(l.top+i),{delay:u=0,duration:p=y=>Math.sqrt(y)*120,easing:v=$s}=a;return{delay:u,duration:sl(p)?p(Math.sqrt(c*c+h*h)):p,easing:v,css:(y,k)=>{const m=k*c,C=k*h,E=y+k*e.width/l.width,T=y+k*e.height/l.height;return`transform: ${r} translate(${m}px, ${C}px) scale(${E}, ${T});`}}}function Pa(t,e,l){const a=t.slice();return a[40]=e[l].id,a[41]=e[l].val,a[43]=l,a}function Ca(t,e,l){const a=t.slice();return a[44]=e[l],a}function Oa(t){let e,l=t[44]+"",a,s;return{c(){e=b("option"),a=S(l),this.h()},l(r){e=_(r,"OPTION",{});var o=g(e);a=P(o,l),o.forEach(d),this.h()},h(){e.__value=s=t[44],e.value=e.__value},m(r,o){U(r,e,o),n(e,a)},p(r,o){o[0]&1&&l!==(l=r[44]+"")&&Be(a,l),o[0]&1&&s!==(s=r[44])&&(e.__value=s,e.value=e.__value)},d(r){r&&d(e)}}}function Ba(t){let e,l=[],a=new Map,s,r,o,i=t[6];const c=h=>h[40];for(let h=0;h<i.length;h+=1){let u=Pa(t,i,h),p=c(u);a.set(p,l[h]=wa(p,u))}return{c(){e=b("div");for(let h=0;h<l.length;h+=1)l[h].c();this.h()},l(h){e=_(h,"DIV",{class:!0});var u=g(e);for(let p=0;p<l.length;p+=1)l[p].l(u);u.forEach(d),this.h()},h(){f(e,"class",s="input-chip-list "+t[8])},m(h,u){U(h,e,u);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);o=!0},p(h,u){if(t=h,u[0]&8296){i=t[6],bt();for(let p=0;p<l.length;p+=1)l[p].r();l=Ws(l,u,c,1,t,i,a,e,Qs,wa,null,Pa);for(let p=0;p<l.length;p+=1)l[p].a();_t()}(!o||u[0]&256&&s!==(s="input-chip-list "+t[8]))&&f(e,"class",s)},i(h){if(!o){for(let u=0;u<i.length;u+=1)W(l[u]);h&&al(()=>{o&&(r||(r=zt(e,_l,{duration:t[3],opacity:0,y:-20},!0)),r.run(1))}),o=!0}},o(h){for(let u=0;u<l.length;u+=1)ee(l[u]);h&&(r||(r=zt(e,_l,{duration:t[3],opacity:0,y:-20},!1)),r.run(0)),o=!1},d(h){h&&d(e);for(let u=0;u<l.length;u+=1)l[u].d();h&&r&&r.end()}}}function wa(t,e){let l,a,s,r=e[41]+"",o,i,c,h,u,p,v,y,k=Ve,m,C,E;function T(...L){return e[36](e[43],e[41],...L)}return{key:t,first:null,c(){l=b("div"),a=b("button"),s=b("span"),o=S(r),i=I(),c=b("span"),h=S("✕"),v=I(),this.h()},l(L){l=_(L,"DIV",{});var O=g(l);a=_(O,"BUTTON",{type:!0,class:!0});var N=g(a);s=_(N,"SPAN",{});var B=g(s);o=P(B,r),B.forEach(d),i=A(N),c=_(N,"SPAN",{});var w=g(c);h=P(w,"✕"),w.forEach(d),N.forEach(d),v=A(O),O.forEach(d),this.h()},h(){f(a,"type","button"),f(a,"class",u="chip "+e[5]),this.first=l},m(L,O){U(L,l,O),n(l,a),n(a,s),n(s,o),n(a,i),n(a,c),n(c,h),n(l,v),m=!0,C||(E=[R(a,"click",T),R(a,"click",e[27]),R(a,"keypress",e[28]),R(a,"keydown",e[29]),R(a,"keyup",e[30])],C=!0)},p(L,O){e=L,(!m||O[0]&64)&&r!==(r=e[41]+"")&&Be(o,r),(!m||O[0]&32&&u!==(u="chip "+e[5]))&&f(a,"class",u)},r(){y=l.getBoundingClientRect()},f(){Ys(l),k()},a(){k(),k=Xs(l,y,ln,{duration:e[3]})},i(L){m||(L&&al(()=>{m&&(p||(p=zt(a,Sa,{duration:e[3],opacity:0},!0)),p.run(1))}),m=!0)},o(L){L&&(p||(p=zt(a,Sa,{duration:e[3],opacity:0},!1)),p.run(0)),m=!1},d(L){L&&d(l),L&&p&&p.end(),C=!1,ct(E)}}}function an(t){let e,l,a,s,r,o,i,c,h,u,p,v,y,k,m,C,E=t[0],T=[];for(let O=0;O<E.length;O+=1)T[O]=Oa(Ca(t,E,O));let L=t[6].length&&Ba(t);return{c(){e=b("div"),l=b("div"),a=b("select");for(let O=0;O<T.length;O+=1)T[O].c();s=I(),r=b("div"),o=b("form"),i=b("input"),p=I(),L&&L.c(),this.h()},l(O){e=_(O,"DIV",{class:!0});var N=g(e);l=_(N,"DIV",{class:!0});var B=g(l);a=_(B,"SELECT",{name:!0,tabindex:!0});var w=g(a);for(let q=0;q<T.length;q+=1)T[q].l(w);w.forEach(d),B.forEach(d),s=A(N),r=_(N,"DIV",{class:!0});var D=g(r);o=_(D,"FORM",{});var J=g(o);i=_(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(d),p=A(D),L&&L.l(D),D.forEach(d),N.forEach(d),this.h()},h(){f(a,"name",t[2]),a.multiple=!0,a.required=t[4],f(a,"tabindex","-1"),t[0]===void 0&&al(()=>t[34].call(a)),f(l,"class","h-0 overflow-hidden"),f(i,"type","text"),f(i,"placeholder",c=t[14].placeholder??"Enter values..."),f(i,"class",h="input-chip-field "+t[7]),i.disabled=u=t[14].disabled,f(r,"class",v="input-chip-interface "+t[9]),f(e,"class",y="input-chip "+t[10]),ya(e,"opacity-50",t[14].disabled)},m(O,N){U(O,e,N),n(e,l),n(l,a);for(let B=0;B<T.length;B+=1)T[B]&&T[B].m(a,null);Na(a,t[0]),n(e,s),n(e,r),n(r,o),n(o,i),M(i,t[1]),n(r,p),L&&L.m(r,null),k=!0,m||(C=[R(a,"change",t[34]),R(i,"input",t[35]),R(i,"input",t[11]),R(i,"input",t[31]),R(i,"focus",t[32]),R(i,"blur",t[33]),R(o,"submit",t[12])],m=!0)},p(O,N){if(N[0]&1){E=O[0];let B;for(B=0;B<E.length;B+=1){const w=Ca(O,E,B);T[B]?T[B].p(w,N):(T[B]=Oa(w),T[B].c(),T[B].m(a,null))}for(;B<T.length;B+=1)T[B].d(1);T.length=E.length}(!k||N[0]&4)&&f(a,"name",O[2]),(!k||N[0]&16)&&(a.required=O[4]),N[0]&1&&Na(a,O[0]),(!k||N[0]&16384&&c!==(c=O[14].placeholder??"Enter values..."))&&f(i,"placeholder",c),(!k||N[0]&128&&h!==(h="input-chip-field "+O[7]))&&f(i,"class",h),(!k||N[0]&16384&&u!==(u=O[14].disabled))&&(i.disabled=u),N[0]&2&&i.value!==O[1]&&M(i,O[1]),O[6].length?L?(L.p(O,N),N[0]&64&&W(L,1)):(L=Ba(O),L.c(),W(L,1),L.m(r,null)):L&&(bt(),ee(L,1,1,()=>{L=null}),_t()),(!k||N[0]&512&&v!==(v="input-chip-interface "+O[9]))&&f(r,"class",v),(!k||N[0]&1024&&y!==(y="input-chip "+O[10]))&&f(e,"class",y),(!k||N[0]&17408)&&ya(e,"opacity-50",O[14].disabled)},i(O){k||(W(L),k=!0)},o(O){ee(L),k=!1},d(O){O&&d(e),Ht(T,O),L&&L.d(),m=!1,ct(C)}}}const sn="textarea cursor-pointer",nn="space-y-4",on="flex flex-wrap gap-2",rn="unstyled bg-transparent border-0 !ring-0 p-0 w-full";function un(t,e,l){let a,s,r,o,i;const c=["input","name","value","whitelist","max","minlength","maxlength","allowUpperCase","allowDuplicates","validation","duration","required","chips","invalid","padding","rounded"];let h=Ta(e,c);const u=Ql();let{input:p=""}=e,{name:v}=e,{value:y=[]}=e,{whitelist:k=[]}=e,{max:m=-1}=e,{minlength:C=-1}=e,{maxlength:E=-1}=e,{allowUpperCase:T=!1}=e,{allowDuplicates:L=!1}=e,{validation:O=()=>!0}=e,{duration:N=150}=e,{required:B=!1}=e,{chips:w="variant-filled"}=e,{invalid:D="input-error"}=e,{padding:J="p-2"}=e,{rounded:q="rounded-container-token"}=e,j=!0,G=y.map(V=>({val:V,id:Math.random()}));function Y(){l(25,j=!0)}function Z(){return!(!p||(l(1,p=p.trim()),O!==void 0&&!O(p))||m!==-1&&y.length>=m||C!==-1&&p.length<C||E!==-1&&p.length>E||k.length>0&&!k.includes(p)||L===!1&&y.includes(p))}function le(V){if(V.preventDefault(),l(25,j=Z()),j===!1){u("invalid",{event:V,input:p});return}l(1,p=T?p:p.toLowerCase()),y.push(p),l(0,y),G.push({val:p,id:Math.random()}),l(6,G),l(0,y),u("add",{event:V,chipIndex:y.length-1,chipValue:p}),l(1,p="")}function ae(V,fe,ne){h.disabled||(y.splice(fe,1),l(0,y),G.splice(fe,1),l(6,G),l(0,y),u("remove",{event:V,chipIndex:fe,chipValue:ne}))}function z(V){hl.call(this,t,V)}function Ee(V){hl.call(this,t,V)}function $(V){hl.call(this,t,V)}function _e(V){hl.call(this,t,V)}function ce(V){hl.call(this,t,V)}function ke(V){hl.call(this,t,V)}function X(V){hl.call(this,t,V)}function Ie(){y=Ks(this),l(0,y)}function F(){p=this.value,l(1,p)}const H=(V,fe,ne)=>{ae(ne,V,fe)};return t.$$set=V=>{l(39,e=ol(ol({},e),bl(V))),l(14,h=Ta(e,c)),"input"in V&&l(1,p=V.input),"name"in V&&l(2,v=V.name),"value"in V&&l(0,y=V.value),"whitelist"in V&&l(15,k=V.whitelist),"max"in V&&l(16,m=V.max),"minlength"in V&&l(17,C=V.minlength),"maxlength"in V&&l(18,E=V.maxlength),"allowUpperCase"in V&&l(19,T=V.allowUpperCase),"allowDuplicates"in V&&l(20,L=V.allowDuplicates),"validation"in V&&l(21,O=V.validation),"duration"in V&&l(3,N=V.duration),"required"in V&&l(4,B=V.required),"chips"in V&&l(5,w=V.chips),"invalid"in V&&l(22,D=V.invalid),"padding"in V&&l(23,J=V.padding),"rounded"in V&&l(24,q=V.rounded)},t.$$.update=()=>{t.$$.dirty[0]&37748736&&l(26,a=j===!1?D:""),l(10,s=`${sn} ${J} ${q} ${e.class??""} ${a}`),t.$$.dirty[0]&65&&l(6,G=y.map((V,fe)=>{var ne;return((ne=G[fe])==null?void 0:ne.val)===V?G[fe]:{id:Math.random(),val:V}}))},l(9,r=`${nn}`),l(8,o=`${on}`),l(7,i=`${rn}`),e=bl(e),[y,p,v,N,B,w,G,i,o,r,s,Y,le,ae,h,k,m,C,E,T,L,O,D,J,q,j,a,z,Ee,$,_e,ce,ke,X,Ie,F,H]}class zs extends Nt{constructor(e){super(),Tt(this,e,un,an,mt,{input:1,name:2,value:0,whitelist:15,max:16,minlength:17,maxlength:18,allowUpperCase:19,allowDuplicates:20,validation:21,duration:3,required:4,chips:5,invalid:22,padding:23,rounded:24},null,[-1,-1])}}function Da(t){let e,l,a,s=Ua(t[0])+"",r,o,i,c=(t[7]?t[4]:t[3])+"",h,u,p,v,y,k,m,C,E,T;function L(B,w){return B[6]?fn:cn}let O=L(t),N=O(t);return{c(){e=b("div"),l=b("header"),a=b("span"),r=S(s),o=I(),i=b("button"),h=S(c),v=I(),y=b("pre"),k=b("code"),N.c(),this.h()},l(B){e=_(B,"DIV",{class:!0,"data-testid":!0});var w=g(e);l=_(w,"HEADER",{class:!0});var D=g(l);a=_(D,"SPAN",{class:!0});var J=g(a);r=P(J,s),J.forEach(d),o=A(D),i=_(D,"BUTTON",{class:!0});var q=g(i);h=P(q,c),q.forEach(d),D.forEach(d),v=A(w),y=_(w,"PRE",{class:!0});var j=g(y);k=_(j,"CODE",{class:!0});var G=g(k);N.l(G),G.forEach(d),j.forEach(d),w.forEach(d),this.h()},h(){f(a,"class","codeblock-language"),f(i,"class",u="codeblock-btn "+t[2]),f(l,"class","codeblock-header "+hn),f(k,"class",m="codeblock-code language-"+t[0]+" lineNumbers"),f(y,"class","codeblock-pre "+bn),f(e,"class",C="codeblock "+t[8]),f(e,"data-testid","codeblock")},m(B,w){U(B,e,w),n(e,l),n(l,a),n(a,r),n(l,o),n(l,i),n(i,h),n(e,v),n(e,y),n(y,k),N.m(k,null),E||(T=[R(i,"click",t[9]),oa(p=tn.call(null,i,t[1]))],E=!0)},p(B,w){w&1&&s!==(s=Ua(B[0])+"")&&Be(r,s),w&152&&c!==(c=(B[7]?B[4]:B[3])+"")&&Be(h,c),w&4&&u!==(u="codeblock-btn "+B[2])&&f(i,"class",u),p&&sl(p.update)&&w&2&&p.update.call(null,B[1]),O===(O=L(B))&&N?N.p(B,w):(N.d(1),N=O(B),N&&(N.c(),N.m(k,null))),w&1&&m!==(m="codeblock-code language-"+B[0]+" lineNumbers")&&f(k,"class",m),w&256&&C!==(C="codeblock "+B[8])&&f(e,"class",C)},d(B){B&&d(e),N.d(),E=!1,ct(T)}}}function cn(t){let e=t[1].trim()+"",l;return{c(){l=S(e)},l(a){l=P(a,e)},m(a,s){U(a,l,s)},p(a,s){s&2&&e!==(e=a[1].trim()+"")&&Be(l,e)},d(a){a&&d(l)}}}function fn(t){let e,l;return{c(){e=new Us(!1),l=Q(),this.h()},l(a){e=Fs(a,!1),l=Q(),this.h()},h(){e.a=l},m(a,s){e.m(t[5],a,s),U(a,l,s)},p(a,s){s&32&&e.p(a[5])},d(a){a&&d(l),a&&e.d()}}}function dn(t){let e,l=t[0]&&t[1]&&Da(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,[s]){a[0]&&a[1]?l?l.p(a,s):(l=Da(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(a){l&&l.d(a),a&&d(e)}}}const pn="overflow-hidden shadow",hn="text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4",bn="whitespace-pre-wrap break-all p-4 pt-1";function Ua(t){return t==="js"?"javascript":t==="ts"?"typescript":t}function _n(t,e,l){let a,s;te(t,en,B=>l(17,s=B));const r=Ql();let{language:o="plaintext"}=e,{code:i=""}=e,{lineNumbers:c=!1}=e,{background:h="bg-neutral-900/90"}=e,{blur:u=""}=e,{text:p="text-sm"}=e,{color:v="text-white"}=e,{rounded:y="rounded-container-token"}=e,{shadow:k="shadow"}=e,{button:m="btn btn-sm variant-soft !text-white"}=e,{buttonLabel:C="Copy"}=e,{buttonCopied:E="👍"}=e,T=!1,L=i,O=!1;function N(){l(7,O=!0),setTimeout(()=>{l(7,O=!1)},2e3),r("copy",{})}return t.$$set=B=>{l(19,e=ol(ol({},e),bl(B))),"language"in B&&l(0,o=B.language),"code"in B&&l(1,i=B.code),"lineNumbers"in B&&l(10,c=B.lineNumbers),"background"in B&&l(11,h=B.background),"blur"in B&&l(12,u=B.blur),"text"in B&&l(13,p=B.text),"color"in B&&l(14,v=B.color),"rounded"in B&&l(15,y=B.rounded),"shadow"in B&&l(16,k=B.shadow),"button"in B&&l(2,m=B.button),"buttonLabel"in B&&l(3,C=B.buttonLabel),"buttonCopied"in B&&l(4,E=B.buttonCopied)},t.$$.update=()=>{t.$$.dirty&131075&&s!==void 0&&(l(5,L=s.highlight(i,{language:o}).value.trim()),l(6,T=!0)),t.$$.dirty&1056&&c&&l(5,L=L.replace(/^/gm,()=>'<span class="line"></span>	')),l(8,a=`${pn} ${h} ${u} ${p} ${v} ${y} ${k} ${e.class??""}`)},e=bl(e),[o,i,m,C,E,L,T,O,a,N,c,h,u,p,v,y,k,s]}class mn extends Nt{constructor(e){super(),Tt(this,e,_n,dn,mt,{language:0,code:1,lineNumbers:10,background:11,blur:12,text:13,color:14,rounded:15,shadow:16,button:2,buttonLabel:3,buttonCopied:4})}}function Fa(t){let e=t[12],l,a,s=ja(t);return{c(){s.c(),l=Q()},l(r){s.l(r),l=Q()},m(r,o){s.m(r,o),U(r,l,o),a=!0},p(r,o){o[0]&4096&&mt(e,e=r[12])?(bt(),ee(s,1,1,Ve),_t(),s=ja(r),s.c(),W(s,1),s.m(l.parentNode,l)):s.p(r,o)},i(r){a||(W(s),a=!0)},o(r){ee(s),a=!1},d(r){r&&d(l),s.d(r)}}}function vn(t){var h,u;let e,l,a,s,r;const o=[(h=t[14])==null?void 0:h.props,{parent:t[15]}];var i=(u=t[14])==null?void 0:u.ref;function c(p){let v={$$slots:{default:[En]},$$scope:{ctx:p}};for(let y=0;y<o.length;y+=1)v=ol(v,o[y]);return{props:v}}return i&&(l=Ia(i,c(t))),{c(){e=b("div"),l&&St(l.$$.fragment),this.h()},l(p){e=_(p,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var v=g(e);l&&Dt(l.$$.fragment,v),v.forEach(d),this.h()},h(){f(e,"class",a="modal contents "+(t[12][0].modalClasses??"")),f(e,"data-testid","modal-component"),f(e,"role","dialog"),f(e,"aria-modal","true"),f(e,"aria-label",s=t[12][0].title??"")},m(p,v){U(p,e,v),l&&Pt(l,e,null),r=!0},p(p,v){var k,m;const y=v[0]&49152?Rs(o,[v[0]&16384&&Zs((k=p[14])==null?void 0:k.props),v[0]&32768&&{parent:p[15]}]):{};if(v[0]&16384|v[1]&512&&(y.$$scope={dirty:v,ctx:p}),v[0]&16384&&i!==(i=(m=p[14])==null?void 0:m.ref)){if(l){bt();const C=l;ee(C.$$.fragment,1,0,()=>{Ct(C,1)}),_t()}i?(l=Ia(i,c(p)),St(l.$$.fragment),W(l.$$.fragment,1),Pt(l,e,null)):l=null}else i&&l.$set(y);(!r||v[0]&4096&&a!==(a="modal contents "+(p[12][0].modalClasses??"")))&&f(e,"class",a),(!r||v[0]&4096&&s!==(s=p[12][0].title??""))&&f(e,"aria-label",s)},i(p){r||(l&&W(l.$$.fragment,p),r=!0)},o(p){l&&ee(l.$$.fragment,p),r=!1},d(p){p&&d(e),l&&Ct(l)}}}function gn(t){var m,C,E,T;let e,l,a,s,r,o,i,c,h=((m=t[12][0])==null?void 0:m.title)&&Ma(t),u=((C=t[12][0])==null?void 0:C.body)&&Ha(t),p=((E=t[12][0])==null?void 0:E.image)&&typeof((T=t[12][0])==null?void 0:T.image)=="string"&&Va(t);function v(L,O){if(L[12][0].type==="alert")return Nn;if(L[12][0].type==="confirm")return yn;if(L[12][0].type==="prompt")return kn}let y=v(t),k=y&&y(t);return{c(){e=b("div"),h&&h.c(),l=I(),u&&u.c(),a=I(),p&&p.c(),s=I(),k&&k.c(),this.h()},l(L){e=_(L,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var O=g(e);h&&h.l(O),l=A(O),u&&u.l(O),a=A(O),p&&p.l(O),s=A(O),k&&k.l(O),O.forEach(d),this.h()},h(){f(e,"class",r="modal "+t[16]),f(e,"data-testid","modal"),f(e,"role","dialog"),f(e,"aria-modal","true"),f(e,"aria-label",o=t[12][0].title??"")},m(L,O){U(L,e,O),h&&h.m(e,null),n(e,l),u&&u.m(e,null),n(e,a),p&&p.m(e,null),n(e,s),k&&k.m(e,null),c=!0},p(L,O){var N,B,w,D;t=L,(N=t[12][0])!=null&&N.title?h?h.p(t,O):(h=Ma(t),h.c(),h.m(e,l)):h&&(h.d(1),h=null),(B=t[12][0])!=null&&B.body?u?u.p(t,O):(u=Ha(t),u.c(),u.m(e,a)):u&&(u.d(1),u=null),(w=t[12][0])!=null&&w.image&&typeof((D=t[12][0])==null?void 0:D.image)=="string"?p?p.p(t,O):(p=Va(t),p.c(),p.m(e,s)):p&&(p.d(1),p=null),y===(y=v(t))&&k?k.p(t,O):(k&&k.d(1),k=y&&y(t),k&&(k.c(),k.m(e,null))),(!c||O[0]&65536&&r!==(r="modal "+t[16]))&&f(e,"class",r),(!c||O[0]&4096&&o!==(o=t[12][0].title??""))&&f(e,"aria-label",o)},i(L){c||(al(()=>{c&&(i||(i=zt(e,_l,{duration:t[3],opacity:0,y:100},!0)),i.run(1))}),c=!0)},o(L){i||(i=zt(e,_l,{duration:t[3],opacity:0,y:100},!1)),i.run(0),c=!1},d(L){L&&d(e),h&&h.d(),u&&u.d(),p&&p.d(),k&&k.d(),L&&i&&i.end()}}}function Ra(t){var s;let e,l=((s=t[14])==null?void 0:s.slot)+"",a;return{c(){e=new Us(!1),a=Q(),this.h()},l(r){e=Fs(r,!1),a=Q(),this.h()},h(){e.a=a},m(r,o){e.m(l,r,o),U(r,a,o)},p(r,o){var i;o[0]&16384&&l!==(l=((i=r[14])==null?void 0:i.slot)+"")&&e.p(l)},d(r){r&&d(a),r&&e.d()}}}function En(t){var a;let e,l=((a=t[14])==null?void 0:a.slot)&&Ra(t);return{c(){l&&l.c(),e=Q()},l(s){l&&l.l(s),e=Q()},m(s,r){l&&l.m(s,r),U(s,e,r)},p(s,r){var o;(o=s[14])!=null&&o.slot?l?l.p(s,r):(l=Ra(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&d(e)}}}function Ma(t){let e,l=t[12][0].title+"",a;return{c(){e=b("header"),this.h()},l(s){e=_(s,"HEADER",{class:!0});var r=g(e);r.forEach(d),this.h()},h(){f(e,"class",a="modal-header "+t[9])},m(s,r){U(s,e,r),e.innerHTML=l},p(s,r){r[0]&4096&&l!==(l=s[12][0].title+"")&&(e.innerHTML=l),r[0]&512&&a!==(a="modal-header "+s[9])&&f(e,"class",a)},d(s){s&&d(e)}}}function Ha(t){let e,l=t[12][0].body+"",a;return{c(){e=b("article"),this.h()},l(s){e=_(s,"ARTICLE",{class:!0});var r=g(e);r.forEach(d),this.h()},h(){f(e,"class",a="modal-body "+t[10])},m(s,r){U(s,e,r),e.innerHTML=l},p(s,r){r[0]&4096&&l!==(l=s[12][0].body+"")&&(e.innerHTML=l),r[0]&1024&&a!==(a="modal-body "+s[10])&&f(e,"class",a)},d(s){s&&d(e)}}}function Va(t){let e,l;return{c(){e=b("img"),this.h()},l(a){e=_(a,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var a;f(e,"class","modal-image "+Sn),Aa(e.src,l=(a=t[12][0])==null?void 0:a.image)||f(e,"src",l),f(e,"alt","Modal")},m(a,s){U(a,e,s)},p(a,s){var r;s[0]&4096&&!Aa(e.src,l=(r=a[12][0])==null?void 0:r.image)&&f(e,"src",l)},d(a){a&&d(e)}}}function kn(t){let e,l,a,s,r,o,i,c,h,u,p,v,y,k,m=[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},t[12][0].valueAttr],C={};for(let E=0;E<m.length;E+=1)C=ol(C,m[E]);return{c(){e=b("form"),l=b("input"),a=I(),s=b("footer"),r=b("button"),o=S(t[0]),c=I(),h=b("button"),u=S(t[2]),this.h()},l(E){e=_(E,"FORM",{class:!0});var T=g(e);l=_(T,"INPUT",{class:!0,name:!0,type:!0}),a=A(T),s=_(T,"FOOTER",{class:!0});var L=g(s);r=_(L,"BUTTON",{type:!0,class:!0});var O=g(r);o=P(O,t[0]),O.forEach(d),c=A(L),h=_(L,"BUTTON",{type:!0,class:!0});var N=g(h);u=P(N,t[2]),N.forEach(d),L.forEach(d),T.forEach(d),this.h()},h(){La(l,C),f(r,"type","button"),f(r,"class",i="btn "+t[7]),f(h,"type","submit"),f(h,"class",p="btn "+t[8]),f(s,"class",v="modal-footer "+t[11]),f(e,"class","space-y-4")},m(E,T){U(E,e,T),n(e,l),l.autofocus&&l.focus(),M(l,t[13]),n(e,a),n(e,s),n(s,r),n(r,o),n(s,c),n(s,h),n(h,u),y||(k=[R(l,"input",t[36]),R(r,"click",t[20]),R(e,"submit",t[22])],y=!0)},p(E,T){La(l,C=Rs(m,[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},T[0]&4096&&E[12][0].valueAttr])),T[0]&8192&&l.value!==E[13]&&M(l,E[13]),T[0]&1&&Be(o,E[0]),T[0]&128&&i!==(i="btn "+E[7])&&f(r,"class",i),T[0]&4&&Be(u,E[2]),T[0]&256&&p!==(p="btn "+E[8])&&f(h,"class",p),T[0]&2048&&v!==(v="modal-footer "+E[11])&&f(s,"class",v)},d(E){E&&d(e),y=!1,ct(k)}}}function yn(t){let e,l,a,s,r,o,i,c,h,u,p;return{c(){e=b("footer"),l=b("button"),a=S(t[0]),r=I(),o=b("button"),i=S(t[1]),this.h()},l(v){e=_(v,"FOOTER",{class:!0});var y=g(e);l=_(y,"BUTTON",{type:!0,class:!0});var k=g(l);a=P(k,t[0]),k.forEach(d),r=A(y),o=_(y,"BUTTON",{type:!0,class:!0});var m=g(o);i=P(m,t[1]),m.forEach(d),y.forEach(d),this.h()},h(){f(l,"type","button"),f(l,"class",s="btn "+t[7]),f(o,"type","button"),f(o,"class",c="btn "+t[8]),f(e,"class",h="modal-footer "+t[11])},m(v,y){U(v,e,y),n(e,l),n(l,a),n(e,r),n(e,o),n(o,i),u||(p=[R(l,"click",t[20]),R(o,"click",t[21])],u=!0)},p(v,y){y[0]&1&&Be(a,v[0]),y[0]&128&&s!==(s="btn "+v[7])&&f(l,"class",s),y[0]&2&&Be(i,v[1]),y[0]&256&&c!==(c="btn "+v[8])&&f(o,"class",c),y[0]&2048&&h!==(h="modal-footer "+v[11])&&f(e,"class",h)},d(v){v&&d(e),u=!1,ct(p)}}}function Nn(t){let e,l,a,s,r,o,i;return{c(){e=b("footer"),l=b("button"),a=S(t[0]),this.h()},l(c){e=_(c,"FOOTER",{class:!0});var h=g(e);l=_(h,"BUTTON",{type:!0,class:!0});var u=g(l);a=P(u,t[0]),u.forEach(d),h.forEach(d),this.h()},h(){f(l,"type","button"),f(l,"class",s="btn "+t[7]),f(e,"class",r="modal-footer "+t[11])},m(c,h){U(c,e,h),n(e,l),n(l,a),o||(i=R(l,"click",t[20]),o=!0)},p(c,h){h[0]&1&&Be(a,c[0]),h[0]&128&&s!==(s="btn "+c[7])&&f(l,"class",s),h[0]&2048&&r!==(r="modal-footer "+c[11])&&f(e,"class",r)},d(c){c&&d(e),o=!1,i()}}}function ja(t){let e,l,a,s,r,o,i,c,h,u,p;const v=[gn,vn],y=[];function k(m,C){return m[12][0].type!=="component"?0:1}return a=k(t),s=y[a]=v[a](t),{c(){e=b("div"),l=b("div"),s.c(),this.h()},l(m){e=_(m,"DIV",{class:!0,"data-testid":!0});var C=g(e);l=_(C,"DIV",{class:!0});var E=g(l);s.l(E),E.forEach(d),C.forEach(d),this.h()},h(){f(l,"class",r="modal-transition "+t[17]),f(e,"class",i="modal-backdrop "+t[18]),f(e,"data-testid","modal-backdrop")},m(m,C){U(m,e,C),n(e,l),y[a].m(l,null),h=!0,u||(p=[R(e,"mousedown",t[19]),R(e,"touchstart",t[19]),oa(Js.call(null,e,!0))],u=!0)},p(m,C){t=m;let E=a;a=k(t),a===E?y[a].p(t,C):(bt(),ee(y[E],1,1,()=>{y[E]=null}),_t(),s=y[a],s?s.p(t,C):(s=y[a]=v[a](t),s.c()),W(s,1),s.m(l,null)),(!h||C[0]&131072&&r!==(r="modal-transition "+t[17]))&&f(l,"class",r),(!h||C[0]&262144&&i!==(i="modal-backdrop "+t[18]))&&f(e,"class",i)},i(m){h||(W(s),al(()=>{h&&(o||(o=zt(l,_l,{duration:t[3],opacity:t[4],x:t[5],y:t[6]},!0)),o.run(1))}),al(()=>{h&&(c||(c=zt(e,Xl,{duration:t[3]},!0)),c.run(1))}),h=!0)},o(m){ee(s),o||(o=zt(l,_l,{duration:t[3],opacity:t[4],x:t[5],y:t[6]},!1)),o.run(0),c||(c=zt(e,Xl,{duration:t[3]},!1)),c.run(0),h=!1},d(m){m&&d(e),y[a].d(),m&&o&&o.end(),m&&c&&c.end(),u=!1,ct(p)}}}function Tn(t){let e,l,a,s,r=t[12].length>0&&Fa(t);return{c(){r&&r.c(),e=Q()},l(o){r&&r.l(o),e=Q()},m(o,i){r&&r.m(o,i),U(o,e,i),l=!0,a||(s=R(window,"keydown",t[23]),a=!0)},p(o,i){o[12].length>0?r?(r.p(o,i),i[0]&4096&&W(r,1)):(r=Fa(o),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(bt(),ee(r,1,1,()=>{r=null}),_t())},i(o){l||(W(r),l=!0)},o(o){ee(r),l=!1},d(o){r&&r.d(o),o&&d(e),a=!1,s()}}}const In="fixed top-0 left-0 right-0 bottom-0",An="w-full h-full p-4 overflow-y-auto flex justify-center",Ln="block",Sn="w-full h-auto";function Pn(t,e,l){let a,s,r,o,i,c;te(t,Ce,H=>l(12,c=H));const h=Ql();let{position:u="items-center"}=e,{components:p={}}=e,{duration:v=150}=e,{flyOpacity:y=0}=e,{flyX:k=0}=e,{flyY:m=100}=e,{background:C="bg-surface-100-800-token"}=e,{width:E="w-modal"}=e,{height:T="h-auto"}=e,{padding:L="p-4"}=e,{spacing:O="space-y-4"}=e,{rounded:N="rounded-container-token"}=e,{shadow:B="shadow-xl"}=e,{zIndex:w="z-[999]"}=e,{buttonNeutral:D="variant-ghost-surface"}=e,{buttonPositive:J="variant-filled"}=e,{buttonTextCancel:q="Cancel"}=e,{buttonTextConfirm:j="Confirm"}=e,{buttonTextSubmit:G="Submit"}=e,{regionBackdrop:Y="bg-surface-backdrop-token"}=e,{regionHeader:Z="text-2xl font-bold"}=e,{regionBody:le="max-h-[200px] overflow-hidden"}=e,{regionFooter:ae="flex justify-end space-x-2"}=e,z;const Ee={buttonTextCancel:q,buttonTextConfirm:j,buttonTextSubmit:G};let $;Ce.subscribe(H=>{H.length&&(H[0].type==="prompt"&&l(13,z=H[0].value),l(0,q=H[0].buttonTextCancel||Ee.buttonTextCancel),l(1,j=H[0].buttonTextConfirm||Ee.buttonTextConfirm),l(2,G=H[0].buttonTextSubmit||Ee.buttonTextSubmit),l(14,$=typeof H[0].component=="string"?p[H[0].component]:H[0].component))});function _e(H){if(!(H.target instanceof Element))return;const V=H.target.classList;(V.contains("modal-backdrop")||V.contains("modal-transition"))&&(c[0].response&&c[0].response(void 0),Ce.close(),h("backdrop",H))}function ce(){c[0].response&&c[0].response(!1),Ce.close()}function ke(){c[0].response&&c[0].response(!0),Ce.close()}function X(H){H.preventDefault(),c[0].response&&c[0].response(z),Ce.close()}function Ie(H){c.length&&H.code==="Escape"&&ce()}function F(){z=this.value,l(13,z)}return t.$$set=H=>{l(39,e=ol(ol({},e),bl(H))),"position"in H&&l(24,u=H.position),"components"in H&&l(25,p=H.components),"duration"in H&&l(3,v=H.duration),"flyOpacity"in H&&l(4,y=H.flyOpacity),"flyX"in H&&l(5,k=H.flyX),"flyY"in H&&l(6,m=H.flyY),"background"in H&&l(26,C=H.background),"width"in H&&l(27,E=H.width),"height"in H&&l(28,T=H.height),"padding"in H&&l(29,L=H.padding),"spacing"in H&&l(30,O=H.spacing),"rounded"in H&&l(31,N=H.rounded),"shadow"in H&&l(32,B=H.shadow),"zIndex"in H&&l(33,w=H.zIndex),"buttonNeutral"in H&&l(7,D=H.buttonNeutral),"buttonPositive"in H&&l(8,J=H.buttonPositive),"buttonTextCancel"in H&&l(0,q=H.buttonTextCancel),"buttonTextConfirm"in H&&l(1,j=H.buttonTextConfirm),"buttonTextSubmit"in H&&l(2,G=H.buttonTextSubmit),"regionBackdrop"in H&&l(34,Y=H.regionBackdrop),"regionHeader"in H&&l(9,Z=H.regionHeader),"regionBody"in H&&l(10,le=H.regionBody),"regionFooter"in H&&l(11,ae=H.regionFooter)},t.$$.update=()=>{var H,V,fe;t.$$.dirty[0]&16781312&&l(35,a=((H=c[0])==null?void 0:H.position)??u),l(18,s=`${In} ${Y} ${w} ${e.class??""} ${((V=c[0])==null?void 0:V.backdropClasses)??""}`),t.$$.dirty[1]&16&&l(17,r=`${An} ${a??""}`),t.$$.dirty[0]&2080378880|t.$$.dirty[1]&3&&l(16,o=`${Ln} ${C} ${E} ${T} ${L} ${O} ${N} ${B} ${((fe=c[0])==null?void 0:fe.modalClasses)??""}`),t.$$.dirty[0]&2097156095|t.$$.dirty[1]&11&&l(15,i={position:u,duration:v,flyOpacity:y,flyX:k,flyY:m,background:C,width:E,height:T,padding:L,spacing:O,rounded:N,shadow:B,buttonNeutral:D,buttonPositive:J,buttonTextCancel:q,buttonTextConfirm:j,buttonTextSubmit:G,regionBackdrop:Y,regionHeader:Z,regionBody:le,regionFooter:ae,onClose:ce})},e=bl(e),[q,j,G,v,y,k,m,D,J,Z,le,ae,c,z,$,i,o,r,s,_e,ce,ke,X,Ie,u,p,C,E,T,L,O,N,B,w,Y,a,F]}class Cn extends Nt{constructor(e){super(),Tt(this,e,Pn,Tn,mt,{position:24,components:25,duration:3,flyOpacity:4,flyX:5,flyY:6,background:26,width:27,height:28,padding:29,spacing:30,rounded:31,shadow:32,zIndex:33,buttonNeutral:7,buttonPositive:8,buttonTextCancel:0,buttonTextConfirm:1,buttonTextSubmit:2,regionBackdrop:34,regionHeader:9,regionBody:10,regionFooter:11},null,[-1,-1])}}const{window:On}=xs;function qa(t){let e,l,a,s,r,o,i,c,h;const u=t[29].default,p=Ms(u,t,t[28],null);return{c(){e=b("div"),l=b("div"),p&&p.c(),this.h()},l(v){e=_(v,"DIV",{class:!0,"data-testid":!0});var y=g(e);l=_(y,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-labelledby":!0,"aria-describedby":!0});var k=g(l);p&&p.l(k),k.forEach(d),y.forEach(d),this.h()},h(){f(l,"class",a="drawer "+t[6]),f(l,"data-testid","drawer"),f(l,"role","dialog"),f(l,"aria-modal","true"),f(l,"aria-labelledby",t[1]),f(l,"aria-describedby",t[2]),f(e,"class",r="drawer-backdrop "+t[7]),f(e,"data-testid","drawer-backdrop")},m(v,y){U(v,e,y),n(e,l),p&&p.m(l,null),t[31](l),t[32](e),i=!0,c||(h=[R(e,"mousedown",t[9]),R(e,"touchstart",t[9]),R(e,"keypress",t[30]),oa(Js.call(null,e,!0))],c=!0)},p(v,y){t=v,p&&p.p&&(!i||y[0]&268435456)&&Hs(p,u,t,t[28],i?js(u,t[28],y,null):Vs(t[28]),null),(!i||y[0]&64&&a!==(a="drawer "+t[6]))&&f(l,"class",a),(!i||y[0]&2)&&f(l,"aria-labelledby",t[1]),(!i||y[0]&4)&&f(l,"aria-describedby",t[2]),(!i||y[0]&128&&r!==(r="drawer-backdrop "+t[7]))&&f(e,"class",r)},i(v){i||(W(p,v),v&&al(()=>{i&&(s||(s=zt(l,_l,{x:t[5].x,y:t[5].y,duration:t[0]},!0)),s.run(1))}),v&&al(()=>{i&&(o||(o=zt(e,Xl,{duration:t[0]},!0)),o.run(1))}),i=!0)},o(v){ee(p,v),v&&(s||(s=zt(l,_l,{x:t[5].x,y:t[5].y,duration:t[0]},!1)),s.run(0)),v&&(o||(o=zt(e,Xl,{duration:t[0]},!1)),o.run(0)),i=!1},d(v){v&&d(e),p&&p.d(v),t[31](null),v&&s&&s.end(),t[32](null),v&&o&&o.end(),c=!1,ct(h)}}}function Bn(t){let e,l,a,s,r=t[8].open===!0&&qa(t);return{c(){r&&r.c(),e=Q()},l(o){r&&r.l(o),e=Q()},m(o,i){r&&r.m(o,i),U(o,e,i),l=!0,a||(s=R(On,"keydown",t[10]),a=!0)},p(o,i){o[8].open===!0?r?(r.p(o,i),i[0]&256&&W(r,1)):(r=qa(o),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(bt(),ee(r,1,1,()=>{r=null}),_t())},i(o){l||(W(r),l=!0)},o(o){ee(r),l=!1},d(o){r&&r.d(o),o&&d(e),a=!1,s()}}}const wn="fixed top-0 left-0 right-0 bottom-0 flex",Dn="overflow-y-auto transition-transform";function Un(t,e,l){let a,s,r,o,i,c,h;te(t,Il,F=>l(8,h=F));let{$$slots:u={},$$scope:p}=e;const v=Ql();let{position:y="left"}=e,{duration:k=150}=e,{bgBackdrop:m="bg-surface-backdrop-token"}=e,{blur:C="backdrop-blur-xs"}=e,{padding:E=""}=e,{bgDrawer:T="bg-surface-100-800-token"}=e,{border:L=""}=e,{rounded:O=""}=e,{shadow:N="shadow-xl"}=e,{width:B=""}=e,{height:w=""}=e,{zIndex:D="z-40"}=e,{regionBackdrop:J=""}=e,{regionDrawer:q=""}=e,{labelledby:j=""}=e,{describedby:G=""}=e;const Y={top:{alignment:"items-start",width:"w-full",height:"h-[50%]",rounded:"rounded-bl-container-token rounded-br-container-token"},bottom:{alignment:"items-end",width:"w-full",height:" h-[50%]",rounded:"rounded-tl-container-token rounded-tr-container-token"},left:{alignment:"justify-start",width:"w-[90%]",height:"h-full",rounded:"rounded-tr-container-token rounded-br-container-token"},right:{alignment:"justify-end",width:"w-[90%]",height:"h-full",rounded:"rounded-tl-container-token rounded-bl-container-token"}};let Z,le,ae={x:0,y:0};const z={position:y,duration:k,bgBackdrop:m,blur:C,padding:E,bgDrawer:T,border:L,rounded:O,shadow:N,width:B,height:w,labelledby:j,describedby:G,regionBackdrop:J,regionDrawer:q};function Ee(F){l(11,y=F.position||z.position),l(0,k=F.duration||z.duration),l(12,m=F.bgBackdrop||z.bgBackdrop),l(13,C=F.blur||z.blur),l(14,E=F.padding||z.padding),l(15,T=F.bgDrawer||z.bgDrawer),l(16,L=F.border||z.border),l(17,O=F.rounded||z.rounded),l(18,N=F.shadow||z.shadow),l(19,B=F.width||z.width),l(20,w=F.height||z.height),l(21,J=F.regionBackdrop||z.regionBackdrop),l(22,q=F.regionDrawer||z.regionDrawer),l(1,j=F.labelledby||z.labelledby),l(2,G=F.describedby||z.describedby)}function $(){switch(y){case"top":l(5,ae={x:0,y:-window.innerWidth});break;case"bottom":l(5,ae={x:0,y:window.innerWidth});break;case"left":l(5,ae={x:-window.innerHeight,y:0});break;case"right":l(5,ae={x:window.innerHeight,y:0});break;default:console.error("Error: unknown position property value.");break}}function _e(F){F.target===Z&&Il.close(),v("backdrop",F)}function ce(F){h&&F.code==="Escape"&&Il.close()}Il.subscribe(F=>{F.open===!0&&(Ee(F),$())});function ke(F){hl.call(this,t,F)}function X(F){Yl[F?"unshift":"push"](()=>{le=F,l(4,le)})}function Ie(F){Yl[F?"unshift":"push"](()=>{Z=F,l(3,Z)})}return t.$$set=F=>{l(38,e=ol(ol({},e),bl(F))),"position"in F&&l(11,y=F.position),"duration"in F&&l(0,k=F.duration),"bgBackdrop"in F&&l(12,m=F.bgBackdrop),"blur"in F&&l(13,C=F.blur),"padding"in F&&l(14,E=F.padding),"bgDrawer"in F&&l(15,T=F.bgDrawer),"border"in F&&l(16,L=F.border),"rounded"in F&&l(17,O=F.rounded),"shadow"in F&&l(18,N=F.shadow),"width"in F&&l(19,B=F.width),"height"in F&&l(20,w=F.height),"zIndex"in F&&l(23,D=F.zIndex),"regionBackdrop"in F&&l(21,J=F.regionBackdrop),"regionDrawer"in F&&l(22,q=F.regionDrawer),"labelledby"in F&&l(1,j=F.labelledby),"describedby"in F&&l(2,G=F.describedby),"$$scope"in F&&l(28,p=F.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(27,a=Y[y].alignment),t.$$.dirty[0]&526336&&l(26,s=B||Y[y].width),t.$$.dirty[0]&1050624&&l(25,r=w||Y[y].height),t.$$.dirty[0]&133120&&l(24,o=O||Y[y].rounded),l(7,i=`${wn} ${m} ${E} ${C} ${a} ${J} ${D} ${e.class??""}`),t.$$.dirty[0]&122126336&&l(6,c=`${Dn} ${T} ${L} ${O} ${N} ${s} ${r} ${o} ${q}`)},e=bl(e),[k,j,G,Z,le,ae,c,i,h,_e,ce,y,m,C,E,T,L,O,N,B,w,J,q,D,o,r,s,a,p,u,ke,X,Ie]}class Fn extends Nt{constructor(e){super(),Tt(this,e,Un,Bn,mt,{position:11,duration:0,bgBackdrop:12,blur:13,padding:14,bgDrawer:15,border:16,rounded:17,shadow:18,width:19,height:20,zIndex:23,regionBackdrop:21,regionDrawer:22,labelledby:1,describedby:2},null,[-1,-1])}}function Rn(){const t={type:"component",component:"modalExportCharJson",title:"Character Sheet JSON"};Il.close(),Ce.trigger(t)}function Mn(){const t={type:"component",component:"modalImportCharJson",title:"Paste Character Sheet JSON"};Il.close(),Ce.trigger(t)}function Ga(t,e,l){const a=t.slice();return a[15]=e[l],a}function Ja(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i=(t[2][0].body??"(body missing)")+"",c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w,D,J,q,j,G,Y,Z,le,ae,z,Ee,$,_e,ce,ke,X,Ie,F,H,V,fe,ne,Ue,ie,Oe,pe,Fe,he,we,x,Re,K,oe,Ae,De,ye,Ye,Ne,xe,ue,je,Te,Qe,ve,qe,Le,at,Me,rt,Xe,ft=t[3],ge=[];for(let Ge=0;Ge<ft.length;Ge+=1)ge[Ge]=za(Ga(t,ft,Ge));return{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("article"),c=S(i),h=I(),u=b("form"),p=b("label"),v=b("span"),y=S("SKill Name"),k=I(),m=b("input"),C=I(),E=b("label"),T=b("span"),L=S("Ability"),O=I(),N=b("select"),B=b("option"),w=S("None");for(let Ge=0;Ge<ge.length;Ge+=1)ge[Ge].c();D=I(),J=b("div"),q=b("label"),j=b("input"),G=I(),Y=b("p"),Z=S("Trained"),le=I(),ae=b("label"),z=b("input"),Ee=I(),$=b("p"),_e=S("Magic"),ce=I(),ke=b("label"),X=b("input"),Ie=I(),F=b("p"),H=S("Psionic"),V=I(),fe=b("label"),ne=b("span"),Ue=S("Reference"),ie=I(),Oe=b("input"),pe=I(),Fe=b("div"),he=b("label"),we=b("span"),x=S("Ranks"),Re=I(),K=b("input"),oe=I(),Ae=b("label"),De=b("span"),ye=S("Misc Modifier"),Ye=I(),Ne=b("input"),xe=I(),ue=b("footer"),je=b("button"),Te=S("Cancel"),ve=I(),qe=b("button"),Le=S("Add Skill"),this.h()},l(Ge){e=_(Ge,"DIV",{class:!0});var se=g(e);l=_(se,"HEADER",{class:!0});var He=g(l);s=P(He,a),He.forEach(d),r=A(se),o=_(se,"ARTICLE",{});var We=g(o);c=P(We,i),We.forEach(d),h=A(se),u=_(se,"FORM",{class:!0});var nt=g(u);p=_(nt,"LABEL",{class:!0});var Ke=g(p);v=_(Ke,"SPAN",{});var Ft=g(v);y=P(Ft,"SKill Name"),Ft.forEach(d),k=A(Ke),m=_(Ke,"INPUT",{class:!0,type:!0,placeholder:!0}),Ke.forEach(d),C=A(nt),E=_(nt,"LABEL",{class:!0});var it=g(E);T=_(it,"SPAN",{});var lt=g(T);L=P(lt,"Ability"),lt.forEach(d),O=A(it),N=_(it,"SELECT",{class:!0});var dt=g(N);B=_(dt,"OPTION",{});var jt=g(B);w=P(jt,"None"),jt.forEach(d);for(let At=0;At<ge.length;At+=1)ge[At].l(dt);dt.forEach(d),it.forEach(d),D=A(nt),J=_(nt,"DIV",{class:!0});var Je=g(J);q=_(Je,"LABEL",{class:!0});var vt=g(q);j=_(vt,"INPUT",{class:!0,type:!0}),G=A(vt),Y=_(vt,"P",{});var $e=g(Y);Z=P($e,"Trained"),$e.forEach(d),vt.forEach(d),le=A(Je),ae=_(Je,"LABEL",{class:!0});var gt=g(ae);z=_(gt,"INPUT",{class:!0,type:!0}),Ee=A(gt),$=_(gt,"P",{});var ot=g($);_e=P(ot,"Magic"),ot.forEach(d),gt.forEach(d),ce=A(Je),ke=_(Je,"LABEL",{class:!0});var It=g(ke);X=_(It,"INPUT",{class:!0,type:!0}),Ie=A(It),F=_(It,"P",{});var Ze=g(F);H=P(Ze,"Psionic"),Ze.forEach(d),It.forEach(d),Je.forEach(d),V=A(nt),fe=_(nt,"LABEL",{class:!0});var et=g(fe);ne=_(et,"SPAN",{});var pt=g(ne);Ue=P(pt,"Reference"),pt.forEach(d),ie=A(et),Oe=_(et,"INPUT",{class:!0,type:!0,placeholder:!0}),et.forEach(d),pe=A(nt),Fe=_(nt,"DIV",{class:!0});var ht=g(Fe);he=_(ht,"LABEL",{class:!0});var ut=g(he);we=_(ut,"SPAN",{});var qt=g(we);x=P(qt,"Ranks"),qt.forEach(d),Re=A(ut),K=_(ut,"INPUT",{class:!0,type:!0}),ut.forEach(d),oe=A(ht),Ae=_(ht,"LABEL",{class:!0});var ze=g(Ae);De=_(ze,"SPAN",{});var re=g(De);ye=P(re,"Misc Modifier"),re.forEach(d),Ye=A(ze),Ne=_(ze,"INPUT",{class:!0,type:!0}),ze.forEach(d),ht.forEach(d),nt.forEach(d),xe=A(se),ue=_(se,"FOOTER",{class:!0});var Et=g(ue);je=_(Et,"BUTTON",{class:!0});var Gt=g(je);Te=P(Gt,"Cancel"),Gt.forEach(d),ve=A(Et),qe=_(Et,"BUTTON",{class:!0});var de=g(qe);Le=P(de,"Add Skill"),de.forEach(d),Et.forEach(d),se.forEach(d),this.h()},h(){f(l,"class",jn),f(m,"class","input"),f(m,"type","text"),f(m,"placeholder","Enter new skill name..."),f(p,"class","label"),B.__value="",B.value=B.__value,B.selected=!0,f(N,"class","select"),t[1].ability===void 0&&al(()=>t[6].call(N)),f(E,"class","label"),f(j,"class","checkbox"),f(j,"type","checkbox"),j.checked=!0,f(q,"class","flex items-center space-x-2"),f(z,"class","checkbox"),f(z,"type","checkbox"),f(ae,"class","flex items-center space-x-2"),f(X,"class","checkbox"),f(X,"type","checkbox"),f(ke,"class","flex items-center space-x-2"),f(J,"class","space-y-2 grid grid-cols-3 gap-4 justify-items-center"),f(Oe,"class","input"),f(Oe,"type","text"),f(Oe,"placeholder","Link to reference..."),f(fe,"class","label"),f(K,"class","input text-center w-[48px] arrow-hide"),f(K,"type","number"),f(he,"class","label"),f(Ne,"class","input text-center w-[48px] arrow-hide"),f(Ne,"type","number"),f(Ae,"class","label"),f(Fe,"class","grid grid-cols-2 gap-4 justify-items-center"),f(u,"class","modal-form "+qn),f(je,"class",Qe="btn "+t[0].buttonNeutral),f(qe,"class",at="btn "+t[0].buttonPositive),f(ue,"class",Me="modal-footer "+t[0].regionFooter),f(e,"class","modal-example-form "+Vn)},m(Ge,se){U(Ge,e,se),n(e,l),n(l,s),n(e,r),n(e,o),n(o,c),n(e,h),n(e,u),n(u,p),n(p,v),n(v,y),n(p,k),n(p,m),M(m,t[1].name),n(u,C),n(u,E),n(E,T),n(T,L),n(E,O),n(E,N),n(N,B),n(B,w);for(let He=0;He<ge.length;He+=1)ge[He]&&ge[He].m(N,null);Ll(N,t[1].ability,!0),n(u,D),n(u,J),n(J,q),n(q,j),M(j,t[1].trained),n(q,G),n(q,Y),n(Y,Z),n(J,le),n(J,ae),n(ae,z),M(z,t[1].magic),n(ae,Ee),n(ae,$),n($,_e),n(J,ce),n(J,ke),n(ke,X),M(X,t[1].psi),n(ke,Ie),n(ke,F),n(F,H),n(u,V),n(u,fe),n(fe,ne),n(ne,Ue),n(fe,ie),n(fe,Oe),M(Oe,t[1].ref),n(u,pe),n(u,Fe),n(Fe,he),n(he,we),n(we,x),n(he,Re),n(he,K),M(K,t[1].ranks),n(Fe,oe),n(Fe,Ae),n(Ae,De),n(De,ye),n(Ae,Ye),n(Ae,Ne),M(Ne,t[1].miscMod),n(e,xe),n(e,ue),n(ue,je),n(je,Te),n(ue,ve),n(ue,qe),n(qe,Le),rt||(Xe=[R(m,"input",t[5]),R(N,"change",t[6]),R(j,"change",t[7]),R(z,"change",t[8]),R(X,"change",t[9]),R(Oe,"input",t[10]),R(K,"input",t[11]),R(Ne,"input",t[12]),R(je,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R(qe,"click",t[4])],rt=!0)},p(Ge,se){if(t=Ge,se&4&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),se&4&&i!==(i=(t[2][0].body??"(body missing)")+"")&&Be(c,i),se&10&&m.value!==t[1].name&&M(m,t[1].name),se&8){ft=t[3];let He;for(He=0;He<ft.length;He+=1){const We=Ga(t,ft,He);ge[He]?ge[He].p(We,se):(ge[He]=za(We),ge[He].c(),ge[He].m(N,null))}for(;He<ge.length;He+=1)ge[He].d(1);ge.length=ft.length}se&10&&Ll(N,t[1].ability),se&10&&M(j,t[1].trained),se&10&&M(z,t[1].magic),se&10&&M(X,t[1].psi),se&10&&Oe.value!==t[1].ref&&M(Oe,t[1].ref),se&10&&yt(K.value)!==t[1].ranks&&M(K,t[1].ranks),se&10&&yt(Ne.value)!==t[1].miscMod&&M(Ne,t[1].miscMod),se&1&&Qe!==(Qe="btn "+t[0].buttonNeutral)&&f(je,"class",Qe),se&1&&at!==(at="btn "+t[0].buttonPositive)&&f(qe,"class",at),se&1&&Me!==(Me="modal-footer "+t[0].regionFooter)&&f(ue,"class",Me)},d(Ge){Ge&&d(e),Ht(ge,Ge),rt=!1,ct(Xe)}}}function za(t){let e,l=t[15].toUpperCase()+"",a;return{c(){e=b("option"),a=S(l),this.h()},l(s){e=_(s,"OPTION",{});var r=g(e);a=P(r,l),r.forEach(d),this.h()},h(){e.__value=t[15],e.value=e.__value},m(s,r){U(s,e,r),n(e,a)},p:Ve,d(s){s&&d(e)}}}function Hn(t){let e,l=t[2][0]&&Ja(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,[s]){a[2][0]?l?l.p(a,s):(l=Ja(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(a){l&&l.d(a),a&&d(e)}}}const Vn="card p-4 w-modal shadow-xl space-y-4",jn="text-2xl font-bold",qn="border border-surface-500 p-4 space-y-4 rounded-container-token";function Gn(t,e,l){let a,s,r;te(t,Bl,T=>l(13,a=T)),te(t,Kl,T=>l(14,s=T)),te(t,Ce,T=>l(2,r=T));let{parent:o}=e;const i=Object.keys(s),c={id:"",name:"",ability:"",trained:!1,magic:!1,psi:!1,synergy:[],ref:"",ranks:0,miscMod:0};function h(){l(1,c.id=Sl(c.name),c),l(1,c.ability=c.ability&&c.ability.toLowerCase(),c),tt(Bl,a.userSkills=[...a.userSkills,c],a),Ce.close()}function u(){c.name=this.value,l(1,c),l(3,i)}function p(){c.ability=ra(this),l(1,c),l(3,i)}function v(){c.trained=this.value,l(1,c),l(3,i)}function y(){c.magic=this.value,l(1,c),l(3,i)}function k(){c.psi=this.value,l(1,c),l(3,i)}function m(){c.ref=this.value,l(1,c),l(3,i)}function C(){c.ranks=yt(this.value),l(1,c),l(3,i)}function E(){c.miscMod=yt(this.value),l(1,c),l(3,i)}return t.$$set=T=>{"parent"in T&&l(0,o=T.parent)},[o,c,r,i,h,u,p,v,y,k,m,C,E]}class Jn extends Nt{constructor(e){super(),Tt(this,e,Gn,Hn,mt,{parent:0})}}function Wa(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i=(t[2][0].body??"(body missing)")+"",c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w,D,J,q,j,G,Y,Z,le,ae,z,Ee,$,_e,ce,ke,X,Ie,F,H,V,fe,ne,Ue,ie,Oe,pe,Fe,he;return{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("article"),c=S(i),h=I(),u=b("form"),p=b("label"),v=b("span"),y=S("Feat Name"),k=I(),m=b("input"),C=I(),E=b("label"),T=b("span"),L=S("Short Description"),O=I(),N=b("input"),B=I(),w=b("label"),D=b("span"),J=S("Descripttion"),q=I(),j=b("input"),G=I(),Y=b("label"),Z=b("span"),le=S("Requires"),ae=I(),z=b("input"),Ee=I(),$=b("label"),_e=b("span"),ce=S("Reference"),ke=I(),X=b("input"),Ie=I(),F=b("footer"),H=b("button"),V=S("Cancel"),ne=I(),Ue=b("button"),ie=S("New Feat"),this.h()},l(we){e=_(we,"DIV",{class:!0});var x=g(e);l=_(x,"HEADER",{class:!0});var Re=g(l);s=P(Re,a),Re.forEach(d),r=A(x),o=_(x,"ARTICLE",{});var K=g(o);c=P(K,i),K.forEach(d),h=A(x),u=_(x,"FORM",{class:!0});var oe=g(u);p=_(oe,"LABEL",{class:!0});var Ae=g(p);v=_(Ae,"SPAN",{});var De=g(v);y=P(De,"Feat Name"),De.forEach(d),k=A(Ae),m=_(Ae,"INPUT",{class:!0,type:!0,placeholder:!0}),Ae.forEach(d),C=A(oe),E=_(oe,"LABEL",{class:!0});var ye=g(E);T=_(ye,"SPAN",{});var Ye=g(T);L=P(Ye,"Short Description"),Ye.forEach(d),O=A(ye),N=_(ye,"INPUT",{class:!0,type:!0,placeholder:!0}),ye.forEach(d),B=A(oe),w=_(oe,"LABEL",{class:!0});var Ne=g(w);D=_(Ne,"SPAN",{});var xe=g(D);J=P(xe,"Descripttion"),xe.forEach(d),q=A(Ne),j=_(Ne,"INPUT",{class:!0,type:!0,placeholder:!0}),Ne.forEach(d),G=A(oe),Y=_(oe,"LABEL",{class:!0});var ue=g(Y);Z=_(ue,"SPAN",{});var je=g(Z);le=P(je,"Requires"),je.forEach(d),ae=A(ue),z=_(ue,"INPUT",{class:!0,type:!0,placeholder:!0}),ue.forEach(d),Ee=A(oe),$=_(oe,"LABEL",{class:!0});var Te=g($);_e=_(Te,"SPAN",{});var Qe=g(_e);ce=P(Qe,"Reference"),Qe.forEach(d),ke=A(Te),X=_(Te,"INPUT",{class:!0,type:!0,placeholder:!0}),Te.forEach(d),oe.forEach(d),Ie=A(x),F=_(x,"FOOTER",{class:!0});var ve=g(F);H=_(ve,"BUTTON",{class:!0});var qe=g(H);V=P(qe,"Cancel"),qe.forEach(d),ne=A(ve),Ue=_(ve,"BUTTON",{class:!0});var Le=g(Ue);ie=P(Le,"New Feat"),Le.forEach(d),ve.forEach(d),x.forEach(d),this.h()},h(){f(l,"class",Yn),f(m,"class","input"),f(m,"type","text"),f(m,"placeholder","Enter new feat name..."),f(p,"class","label"),f(N,"class","input"),f(N,"type","text"),f(N,"placeholder","Summary of the feat effects..."),f(E,"class","label"),f(j,"class","input"),f(j,"type","text"),f(j,"placeholder","Describe the feat..."),f(w,"class","label"),f(z,"class","input"),f(z,"type","text"),f(z,"placeholder","Prerequisites for the feat..."),f(Y,"class","label"),f(X,"class","input"),f(X,"type","text"),f(X,"placeholder","Link to reference..."),f($,"class","label"),f(u,"class","modal-form "+Xn),f(H,"class",fe="btn "+t[0].buttonNeutral),f(Ue,"class",Oe="btn "+t[0].buttonPositive),f(F,"class",pe="modal-footer "+t[0].regionFooter),f(e,"class","modal-example-form "+Wn)},m(we,x){U(we,e,x),n(e,l),n(l,s),n(e,r),n(e,o),n(o,c),n(e,h),n(e,u),n(u,p),n(p,v),n(v,y),n(p,k),n(p,m),M(m,t[1].name),n(u,C),n(u,E),n(E,T),n(T,L),n(E,O),n(E,N),M(N,t[1].shortText),n(u,B),n(u,w),n(w,D),n(D,J),n(w,q),n(w,j),M(j,t[1].longText),n(u,G),n(u,Y),n(Y,Z),n(Z,le),n(Y,ae),n(Y,z),M(z,t[1].prerequisites),n(u,Ee),n(u,$),n($,_e),n(_e,ce),n($,ke),n($,X),M(X,t[1].ref),n(e,Ie),n(e,F),n(F,H),n(H,V),n(F,ne),n(F,Ue),n(Ue,ie),Fe||(he=[R(m,"input",t[4]),R(N,"input",t[5]),R(j,"input",t[6]),R(z,"input",t[7]),R(X,"input",t[8]),R(H,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R(Ue,"click",t[3])],Fe=!0)},p(we,x){t=we,x&4&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),x&4&&i!==(i=(t[2][0].body??"(body missing)")+"")&&Be(c,i),x&2&&m.value!==t[1].name&&M(m,t[1].name),x&2&&N.value!==t[1].shortText&&M(N,t[1].shortText),x&2&&j.value!==t[1].longText&&M(j,t[1].longText),x&2&&z.value!==t[1].prerequisites&&M(z,t[1].prerequisites),x&2&&X.value!==t[1].ref&&M(X,t[1].ref),x&1&&fe!==(fe="btn "+t[0].buttonNeutral)&&f(H,"class",fe),x&1&&Oe!==(Oe="btn "+t[0].buttonPositive)&&f(Ue,"class",Oe),x&1&&pe!==(pe="modal-footer "+t[0].regionFooter)&&f(F,"class",pe)},d(we){we&&d(e),Fe=!1,ct(he)}}}function zn(t){let e,l=t[2][0]&&Wa(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,[s]){a[2][0]?l?l.p(a,s):(l=Wa(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(a){l&&l.d(a),a&&d(e)}}}const Wn="card p-4 w-modal shadow-xl space-y-4",Yn="text-2xl font-bold",Xn="border border-surface-500 p-4 space-y-4 rounded-container-token";function Kn(t,e,l){let a,s;te(t,ul,y=>l(9,a=y)),te(t,Ce,y=>l(2,s=y));let{parent:r}=e;const o={id:"",name:"",longText:"",shortText:"",type:"",prerequisites:"",ref:""};function i(){l(1,o.id=Sl(o.name),o),tt(ul,a.userFeats=[...a.userFeats,o],a),Ce.close()}function c(){o.name=this.value,l(1,o)}function h(){o.shortText=this.value,l(1,o)}function u(){o.longText=this.value,l(1,o)}function p(){o.prerequisites=this.value,l(1,o)}function v(){o.ref=this.value,l(1,o)}return t.$$set=y=>{"parent"in y&&l(0,r=y.parent)},[r,o,s,i,c,h,u,p,v]}class Qn extends Nt{constructor(e){super(),Tt(this,e,Kn,zn,mt,{parent:0})}}function Ya(t,e,l){const a=t.slice();return a[11]=e[l],a[12]=e,a[13]=l,a}function Xa(t){let e,l,a=(t[3][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C,E,T,L,O;return i=new wl({props:{autocollapse:!0,$$slots:{default:[eo]},$$scope:{ctx:t}}}),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),St(i.$$.fragment),c=I(),h=b("footer"),u=b("button"),p=S("Cancel"),y=I(),k=b("button"),m=S("Done"),this.h()},l(N){e=_(N,"DIV",{class:!0});var B=g(e);l=_(B,"HEADER",{class:!0});var w=g(l);s=P(w,a),w.forEach(d),r=A(B),o=_(B,"DIV",{class:!0});var D=g(o);Dt(i.$$.fragment,D),D.forEach(d),c=A(B),h=_(B,"FOOTER",{class:!0});var J=g(h);u=_(J,"BUTTON",{class:!0});var q=g(u);p=P(q,"Cancel"),q.forEach(d),y=A(J),k=_(J,"BUTTON",{class:!0});var j=g(k);m=P(j,"Done"),j.forEach(d),J.forEach(d),B.forEach(d),this.h()},h(){f(l,"class",ao),f(o,"class","modal-form "+so+" max-h-[720px] overflow-auto"),f(u,"class",v="btn "+t[0].buttonNeutral),f(k,"class",C="btn "+t[0].buttonPositive),f(h,"class",E="modal-footer "+t[0].regionFooter),f(e,"class","w-modal-wide "+lo)},m(N,B){U(N,e,B),n(e,l),n(l,s),n(e,r),n(e,o),Pt(i,o,null),n(e,c),n(e,h),n(h,u),n(u,p),n(h,y),n(h,k),n(k,m),T=!0,L||(O=[R(u,"click",t[4]),R(k,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)})],L=!0)},p(N,B){t=N,(!T||B&8)&&a!==(a=(t[3][0].title??"(title missing)")+"")&&Be(s,a);const w={};B&16390&&(w.$$scope={dirty:B,ctx:t}),i.$set(w),(!T||B&1&&v!==(v="btn "+t[0].buttonNeutral))&&f(u,"class",v),(!T||B&1&&C!==(C="btn "+t[0].buttonPositive))&&f(k,"class",C),(!T||B&1&&E!==(E="modal-footer "+t[0].regionFooter))&&f(h,"class",E)},i(N){T||(W(i.$$.fragment,N),T=!0)},o(N){ee(i.$$.fragment,N),T=!1},d(N){N&&d(e),Ct(i),L=!1,ct(O)}}}function Zn(t){let e,l,a,s,r;function o(){t[6].call(e,t[12],t[13])}function i(){return t[7](t[11])}return{c(){e=b("input"),a=I(),this.h()},l(c){e=_(c,"INPUT",{class:!0,type:!0}),a=A(c),this.h()},h(){f(e,"class","checkbox"),f(e,"type","checkbox"),e.checked=l=t[5](t[2].feats,t[11].id)},m(c,h){U(c,e,h),M(e,t[11].id),U(c,a,h),s||(r=[R(e,"change",o),R(e,"change",i)],s=!0)},p(c,h){t=c,h&6&&l!==(l=t[5](t[2].feats,t[11].id))&&(e.checked=l),h&2&&M(e,t[11].id)},d(c){c&&d(e),c&&d(a),s=!1,ct(r)}}}function xn(t){let e,l=t[11].name+"",a,s,r,o=t[11].shortText+"",i,c;return{c(){e=b("h3"),a=S(l),s=I(),r=b("p"),i=S(o),c=I(),this.h()},l(h){e=_(h,"H3",{class:!0});var u=g(e);a=P(u,l),u.forEach(d),s=A(h),r=_(h,"P",{class:!0});var p=g(r);i=P(p,o),p.forEach(d),c=A(h),this.h()},h(){f(e,"class","text-slate-100/80"),f(r,"class","text-slate-300/70 text-sm")},m(h,u){U(h,e,u),n(e,a),U(h,s,u),U(h,r,u),n(r,i),U(h,c,u)},p(h,u){u&2&&l!==(l=h[11].name+"")&&Be(a,l),u&2&&o!==(o=h[11].shortText+"")&&Be(i,o)},d(h){h&&d(e),h&&d(s),h&&d(r),h&&d(c)}}}function $n(t){let e,l,a=t[11].longText+"",s,r,o,i,c=t[11].prerequisites+"",h,u;return{c(){e=b("div"),l=b("p"),s=S(a),r=I(),o=b("span"),i=S("Requires: "),h=S(c),u=I(),this.h()},l(p){e=_(p,"DIV",{class:!0});var v=g(e);l=_(v,"P",{class:!0});var y=g(l);s=P(y,a),y.forEach(d),r=A(v),o=_(v,"SPAN",{class:!0});var k=g(o);i=P(k,"Requires: "),h=P(k,c),k.forEach(d),v.forEach(d),u=A(p),this.h()},h(){f(l,"class","text-slate-100/80 text-justify"),f(o,"class","ml-4 text-xs text-slate-100/70"),f(e,"class","space-y-2 ml-4 pl-4 pr-6 pb-2 border-l-2 border-b-2 border-slate-500/70 rounded-sm")},m(p,v){U(p,e,v),n(e,l),n(l,s),n(e,r),n(e,o),n(o,i),n(o,h),U(p,u,v)},p(p,v){v&2&&a!==(a=p[11].longText+"")&&Be(s,a),v&2&&c!==(c=p[11].prerequisites+"")&&Be(h,c)},d(p){p&&d(e),p&&d(u)}}}function Ka(t){let e,l;return e=new Dl({props:{id:t[11].id,$$slots:{content:[$n],summary:[xn],lead:[Zn]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},l(a){Dt(e.$$.fragment,a)},m(a,s){Pt(e,a,s),l=!0},p(a,s){const r={};s&2&&(r.id=a[11].id),s&16390&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){Ct(e,a)}}}function eo(t){let e,l,a=t[1],s=[];for(let o=0;o<a.length;o+=1)s[o]=Ka(Ya(t,a,o));const r=o=>ee(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Q()},m(o,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,i);U(o,e,i),l=!0},p(o,i){if(i&38){a=o[1];let c;for(c=0;c<a.length;c+=1){const h=Ya(o,a,c);s[c]?(s[c].p(h,i),W(s[c],1)):(s[c]=Ka(h),s[c].c(),W(s[c],1),s[c].m(e.parentNode,e))}for(bt(),c=a.length;c<s.length;c+=1)r(c);_t()}},i(o){if(!l){for(let i=0;i<a.length;i+=1)W(s[i]);l=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)ee(s[i]);l=!1},d(o){Ht(s,o),o&&d(e)}}}function to(t){let e,l,a=t[3][0]&&Xa(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[3][0]?a?(a.p(s,r),r&8&&W(a,1)):(a=Xa(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const lo="card p-4 w-modal shadow-xl space-y-4",ao="text-2xl font-bold",so="border border-surface-500 p-4 space-y-4 rounded-container-token";function no(t,e,l){var k;let a,s;te(t,ul,m=>l(2,a=m)),te(t,Ce,m=>l(3,s=m));let{parent:r}=e,o=a.feats;const i=(k=s[0].meta)==null?void 0:k.feats,h=Object.keys(i).map(m=>({...i[m],id:m}));function u(){tt(ul,a.feats=o,a),Ce.close()}const p=(m,C)=>m.map(T=>T.id).includes(C);function v(m,C){m[C].id=this.value,l(1,h)}const y=m=>{if(p(a.feats,m.id))tt(ul,a.feats=a.feats.filter(C=>C.id!==m.id),a);else{const C=h.find(E=>E.id===m.id);tt(ul,a.feats=[...a.feats,C],a)}};return t.$$set=m=>{"parent"in m&&l(0,r=m.parent)},[r,h,a,s,u,p,v,y]}class oo extends Nt{constructor(e){super(),Tt(this,e,no,to,mt,{parent:0})}}let Wl;const ro=new Uint8Array(16);function io(){if(!Wl&&(Wl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wl(ro)}const Lt=[];for(let t=0;t<256;++t)Lt.push((t+256).toString(16).slice(1));function uo(t,e=0){return(Lt[t[e+0]]+Lt[t[e+1]]+Lt[t[e+2]]+Lt[t[e+3]]+"-"+Lt[t[e+4]]+Lt[t[e+5]]+"-"+Lt[t[e+6]]+Lt[t[e+7]]+"-"+Lt[t[e+8]]+Lt[t[e+9]]+"-"+Lt[t[e+10]]+Lt[t[e+11]]+Lt[t[e+12]]+Lt[t[e+13]]+Lt[t[e+14]]+Lt[t[e+15]]).toLowerCase()}const co=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qa={randomUUID:co};function ml(t,e,l){if(Qa.randomUUID&&!e&&!t)return Qa.randomUUID();t=t||{};const a=t.random||(t.rng||io)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){l=l||0;for(let s=0;s<16;++s)e[l+s]=a[s];return e}return uo(a)}function Za(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i=(t[2][0].body??"(body missing)")+"",c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w,D,J,q,j,G,Y,Z,le,ae,z,Ee,$,_e,ce,ke,X,Ie,F,H,V,fe,ne,Ue,ie,Oe,pe,Fe,he,we,x,Re,K,oe,Ae,De,ye,Ye,Ne,xe,ue,je,Te,Qe,ve,qe,Le,at,Me,rt,Xe,ft,ge,Ge,se,He,We,nt,Ke,Ft,it,lt,dt,jt,Je,vt,$e,gt,ot,It,Ze,et,pt,ht,ut,qt,ze,re,Et,Gt,de,At,Rt,Wt,Jt,Se,Ot,rl,be,Bt,$t,Xt,el,kt,tl,Kt,Qt,Zt,wt,Yt,cl;function ll(st){t[15](st)}let fl={name:"coverage",class:"col-span-2",whitelist:t[3],placeholder:"Enter coverage area, press ENTER..."};return t[1].visible.coverage!==void 0&&(fl.value=t[1].visible.coverage),We=new zs({props:fl}),Yl.push(()=>qs(We,"value",ll)),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("article"),c=S(i),h=I(),u=b("form"),p=b("label"),v=b("span"),y=S("Item name"),k=I(),m=b("input"),C=I(),E=b("label"),T=b("span"),L=S("Type"),O=I(),N=b("select"),B=b("option"),w=S("Other"),D=b("option"),J=S("Armor"),q=b("option"),j=S("Shield"),G=b("option"),Y=S("Accessory"),Z=I(),le=b("label"),ae=b("span"),z=S("Price"),Ee=I(),$=b("input"),_e=I(),ce=b("label"),ke=b("span"),X=S("Weight"),Ie=I(),F=b("input"),H=I(),V=b("label"),fe=b("span"),ne=S("Armor Bonus"),Ue=I(),ie=b("input"),Oe=I(),pe=b("label"),Fe=b("span"),he=S("Check Penalty"),we=I(),x=b("input"),Re=I(),K=b("label"),oe=b("span"),Ae=S("Max. DEX Bonus"),De=I(),ye=b("input"),Ye=I(),Ne=b("label"),xe=b("span"),ue=S("Arcane Spell Failure"),je=I(),Te=b("input"),Qe=I(),ve=b("label"),qe=b("span"),Le=S("Speed 20"),at=I(),Me=b("input"),rt=I(),Xe=b("label"),ft=b("span"),ge=S("Speed 30"),Ge=I(),se=b("input"),He=I(),St(We.$$.fragment),Ke=I(),Ft=b("hr"),it=I(),lt=b("h3"),dt=S("Combat"),jt=I(),Je=b("label"),vt=b("span"),$e=S("Medium die"),gt=I(),ot=b("input"),It=I(),Ze=b("label"),et=b("span"),pt=S("Small die"),ht=I(),ut=b("input"),qt=I(),ze=b("label"),re=b("span"),Et=S("Critical"),Gt=I(),de=b("input"),At=I(),Rt=b("label"),Wt=b("span"),Jt=S("Damage type"),Se=I(),Ot=b("input"),rl=I(),be=b("footer"),Bt=b("button"),$t=S("Cancel"),el=I(),kt=b("button"),tl=S("Create Item"),this.h()},l(st){e=_(st,"DIV",{class:!0});var Pe=g(e);l=_(Pe,"HEADER",{class:!0});var Mt=g(l);s=P(Mt,a),Mt.forEach(d),r=A(Pe),o=_(Pe,"ARTICLE",{});var dl=g(o);c=P(dl,i),dl.forEach(d),h=A(Pe),u=_(Pe,"FORM",{class:!0});var me=g(u);p=_(me,"LABEL",{class:!0});var vl=g(p);v=_(vl,"SPAN",{});var gl=g(v);y=P(gl,"Item name"),gl.forEach(d),k=A(vl),m=_(vl,"INPUT",{class:!0,type:!0,placeholder:!0}),vl.forEach(d),C=A(me),E=_(me,"LABEL",{class:!0});var El=g(E);T=_(El,"SPAN",{});var kl=g(T);L=P(kl,"Type"),kl.forEach(d),O=A(El),N=_(El,"SELECT",{id:!0,class:!0});var pl=g(N);B=_(pl,"OPTION",{});var yl=g(B);w=P(yl,"Other"),yl.forEach(d),D=_(pl,"OPTION",{});var Pl=g(D);J=P(Pl,"Armor"),Pl.forEach(d),q=_(pl,"OPTION",{});var Nl=g(q);j=P(Nl,"Shield"),Nl.forEach(d),G=_(pl,"OPTION",{});var Cl=g(G);Y=P(Cl,"Accessory"),Cl.forEach(d),pl.forEach(d),El.forEach(d),Z=A(me),le=_(me,"LABEL",{class:!0});var il=g(le);ae=_(il,"SPAN",{});var Ol=g(ae);z=P(Ol,"Price"),Ol.forEach(d),Ee=A(il),$=_(il,"INPUT",{class:!0,type:!0,placeholder:!0}),il.forEach(d),_e=A(me),ce=_(me,"LABEL",{class:!0});var Tl=g(ce);ke=_(Tl,"SPAN",{});var ia=g(ke);X=P(ia,"Weight"),ia.forEach(d),Ie=A(Tl),F=_(Tl,"INPUT",{class:!0,type:!0}),Tl.forEach(d),H=A(me),V=_(me,"LABEL",{class:!0});var Ul=g(V);fe=_(Ul,"SPAN",{});var ua=g(fe);ne=P(ua,"Armor Bonus"),ua.forEach(d),Ue=A(Ul),ie=_(Ul,"INPUT",{class:!0,type:!0}),Ul.forEach(d),Oe=A(me),pe=_(me,"LABEL",{class:!0});var Fl=g(pe);Fe=_(Fl,"SPAN",{});var ca=g(Fe);he=P(ca,"Check Penalty"),ca.forEach(d),we=A(Fl),x=_(Fl,"INPUT",{class:!0,type:!0}),Fl.forEach(d),Re=A(me),K=_(me,"LABEL",{class:!0});var Rl=g(K);oe=_(Rl,"SPAN",{});var fa=g(oe);Ae=P(fa,"Max. DEX Bonus"),fa.forEach(d),De=A(Rl),ye=_(Rl,"INPUT",{class:!0,type:!0}),Rl.forEach(d),Ye=A(me),Ne=_(me,"LABEL",{class:!0});var Ml=g(Ne);xe=_(Ml,"SPAN",{});var da=g(xe);ue=P(da,"Arcane Spell Failure"),da.forEach(d),je=A(Ml),Te=_(Ml,"INPUT",{class:!0,type:!0}),Ml.forEach(d),Qe=A(me),ve=_(me,"LABEL",{class:!0});var Hl=g(ve);qe=_(Hl,"SPAN",{});var pa=g(qe);Le=P(pa,"Speed 20"),pa.forEach(d),at=A(Hl),Me=_(Hl,"INPUT",{class:!0,type:!0,placeholder:!0}),Hl.forEach(d),rt=A(me),Xe=_(me,"LABEL",{class:!0});var Vl=g(Xe);ft=_(Vl,"SPAN",{});var ha=g(ft);ge=P(ha,"Speed 30"),ha.forEach(d),Ge=A(Vl),se=_(Vl,"INPUT",{class:!0,type:!0,placeholder:!0}),Vl.forEach(d),He=A(me),Dt(We.$$.fragment,me),Ke=A(me),Ft=_(me,"HR",{class:!0}),it=A(me),lt=_(me,"H3",{class:!0});var ba=g(lt);dt=P(ba,"Combat"),ba.forEach(d),jt=A(me),Je=_(me,"LABEL",{class:!0});var jl=g(Je);vt=_(jl,"SPAN",{});var _a=g(vt);$e=P(_a,"Medium die"),_a.forEach(d),gt=A(jl),ot=_(jl,"INPUT",{class:!0,type:!0,placeholder:!0}),jl.forEach(d),It=A(me),Ze=_(me,"LABEL",{class:!0});var ql=g(Ze);et=_(ql,"SPAN",{});var ma=g(et);pt=P(ma,"Small die"),ma.forEach(d),ht=A(ql),ut=_(ql,"INPUT",{class:!0,type:!0,placeholder:!0}),ql.forEach(d),qt=A(me),ze=_(me,"LABEL",{class:!0});var Gl=g(ze);re=_(Gl,"SPAN",{});var va=g(re);Et=P(va,"Critical"),va.forEach(d),Gt=A(Gl),de=_(Gl,"INPUT",{class:!0,type:!0,placeholder:!0}),Gl.forEach(d),At=A(me),Rt=_(me,"LABEL",{class:!0});var Jl=g(Rt);Wt=_(Jl,"SPAN",{});var ga=g(Wt);Jt=P(ga,"Damage type"),ga.forEach(d),Se=A(Jl),Ot=_(Jl,"INPUT",{class:!0,type:!0,placeholder:!0}),Jl.forEach(d),me.forEach(d),rl=A(Pe),be=_(Pe,"FOOTER",{class:!0});var zl=g(be);Bt=_(zl,"BUTTON",{class:!0});var Ea=g(Bt);$t=P(Ea,"Cancel"),Ea.forEach(d),el=A(zl),kt=_(zl,"BUTTON",{class:!0});var ka=g(kt);tl=P(ka,"Create Item"),ka.forEach(d),zl.forEach(d),Pe.forEach(d),this.h()},h(){f(l,"class",ho),f(m,"class","input"),f(m,"type","text"),f(m,"placeholder","Name..."),f(p,"class","label col-span-4"),B.__value="other",B.value=B.__value,B.selected=!0,D.__value="armor",D.value=D.__value,D.selected=!0,q.__value="shield",q.value=q.__value,q.selected=!0,G.__value="accessory",G.value=G.__value,G.selected=!0,f(N,"id","type"),f(N,"class","select variant-form-material"),t[1].hidden.type===void 0&&al(()=>t[6].call(N)),f(E,"class","label col-span-2"),f($,"class","input variant-form-material"),f($,"type","text"),f($,"placeholder","Enter price in gp..."),f(le,"class","label"),f(F,"class","input text-center arrow-hide"),f(F,"type","number"),f(ce,"class","label"),f(ie,"class","input text-center arrow-hide"),f(ie,"type","number"),f(V,"class","label"),f(x,"class","input text-center arrow-hide"),f(x,"type","number"),f(pe,"class","label"),f(ye,"class","input text-center arrow-hide"),f(ye,"type","number"),f(K,"class","label"),f(Te,"class","input text-center arrow-hide"),f(Te,"type","number"),f(Ne,"class","label"),f(Me,"class","input variant-form-material"),f(Me,"type","text"),f(Me,"placeholder","Enter speed at 20 ft..."),f(ve,"class","label"),f(se,"class","input variant-form-material"),f(se,"type","text"),f(se,"placeholder","Enter speed at 30 ft..."),f(Xe,"class","label"),f(Ft,"class","col-span-4"),f(lt,"class","col-span-4"),f(ot,"class","input variant-form-material"),f(ot,"type","text"),f(ot,"placeholder","Medium die..."),f(Je,"class","label"),f(ut,"class","input variant-form-material"),f(ut,"type","text"),f(ut,"placeholder","Small die..."),f(Ze,"class","label"),f(de,"class","input variant-form-material"),f(de,"type","text"),f(de,"placeholder","Critical..."),f(ze,"class","label"),f(Ot,"class","input variant-form-material"),f(Ot,"type","text"),f(Ot,"placeholder","Damage type..."),f(Rt,"class","label"),f(u,"class","modal-form "+bo+" grid grid-cols-4 gap-2"),f(Bt,"class",Xt="btn "+t[0].buttonNeutral),f(kt,"class",Kt="btn "+t[0].buttonPositive),kt.disabled=Qt=!t[1].description.name,f(be,"class",Zt="modal-footer "+t[0].regionFooter),f(e,"class","w-modal-wide "+po)},m(st,Pe){U(st,e,Pe),n(e,l),n(l,s),n(e,r),n(e,o),n(o,c),n(e,h),n(e,u),n(u,p),n(p,v),n(v,y),n(p,k),n(p,m),M(m,t[1].description.name),n(u,C),n(u,E),n(E,T),n(T,L),n(E,O),n(E,N),n(N,B),n(B,w),n(N,D),n(D,J),n(N,q),n(q,j),n(N,G),n(G,Y),Ll(N,t[1].hidden.type,!0),n(u,Z),n(u,le),n(le,ae),n(ae,z),n(le,Ee),n(le,$),M($,t[1].description.price),n(u,_e),n(u,ce),n(ce,ke),n(ke,X),n(ce,Ie),n(ce,F),M(F,t[1].description.weight),n(u,H),n(u,V),n(V,fe),n(fe,ne),n(V,Ue),n(V,ie),M(ie,t[1].visible.armorBonus),n(u,Oe),n(u,pe),n(pe,Fe),n(Fe,he),n(pe,we),n(pe,x),M(x,t[1].visible.checkPenalty),n(u,Re),n(u,K),n(K,oe),n(oe,Ae),n(K,De),n(K,ye),M(ye,t[1].visible.maxDexBonus),n(u,Ye),n(u,Ne),n(Ne,xe),n(xe,ue),n(Ne,je),n(Ne,Te),M(Te,t[1].visible.arcaneSpellFailure),n(u,Qe),n(u,ve),n(ve,qe),n(qe,Le),n(ve,at),n(ve,Me),M(Me,t[1].visible.speed_20),n(u,rt),n(u,Xe),n(Xe,ft),n(ft,ge),n(Xe,Ge),n(Xe,se),M(se,t[1].visible.speed_30),n(u,He),Pt(We,u,null),n(u,Ke),n(u,Ft),n(u,it),n(u,lt),n(lt,dt),n(u,jt),n(u,Je),n(Je,vt),n(vt,$e),n(Je,gt),n(Je,ot),M(ot,t[1].visible.combat.mediumDie),n(u,It),n(u,Ze),n(Ze,et),n(et,pt),n(Ze,ht),n(Ze,ut),M(ut,t[1].visible.combat.smallDie),n(u,qt),n(u,ze),n(ze,re),n(re,Et),n(ze,Gt),n(ze,de),M(de,t[1].visible.combat.critical),n(u,At),n(u,Rt),n(Rt,Wt),n(Wt,Jt),n(Rt,Se),n(Rt,Ot),M(Ot,t[1].visible.combat.type),n(e,rl),n(e,be),n(be,Bt),n(Bt,$t),n(be,el),n(be,kt),n(kt,tl),wt=!0,Yt||(cl=[R(m,"input",t[5]),R(N,"change",t[6]),R($,"input",t[7]),R(F,"input",t[8]),R(ie,"input",t[9]),R(x,"input",t[10]),R(ye,"input",t[11]),R(Te,"input",t[12]),R(Me,"input",t[13]),R(se,"input",t[14]),R(ot,"input",t[16]),R(ut,"input",t[17]),R(de,"input",t[18]),R(Ot,"input",t[19]),R(Bt,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R(kt,"click",t[4])],Yt=!0)},p(st,Pe){t=st,(!wt||Pe&4)&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),(!wt||Pe&4)&&i!==(i=(t[2][0].body??"(body missing)")+"")&&Be(c,i),Pe&2&&m.value!==t[1].description.name&&M(m,t[1].description.name),Pe&2&&Ll(N,t[1].hidden.type),Pe&2&&$.value!==t[1].description.price&&M($,t[1].description.price),Pe&2&&yt(F.value)!==t[1].description.weight&&M(F,t[1].description.weight),Pe&2&&yt(ie.value)!==t[1].visible.armorBonus&&M(ie,t[1].visible.armorBonus),Pe&2&&yt(x.value)!==t[1].visible.checkPenalty&&M(x,t[1].visible.checkPenalty),Pe&2&&yt(ye.value)!==t[1].visible.maxDexBonus&&M(ye,t[1].visible.maxDexBonus),Pe&2&&yt(Te.value)!==t[1].visible.arcaneSpellFailure&&M(Te,t[1].visible.arcaneSpellFailure),Pe&2&&Me.value!==t[1].visible.speed_20&&M(Me,t[1].visible.speed_20),Pe&2&&se.value!==t[1].visible.speed_30&&M(se,t[1].visible.speed_30);const Mt={};!nt&&Pe&2&&(nt=!0,Mt.value=t[1].visible.coverage,Gs(()=>nt=!1)),We.$set(Mt),Pe&2&&ot.value!==t[1].visible.combat.mediumDie&&M(ot,t[1].visible.combat.mediumDie),Pe&2&&ut.value!==t[1].visible.combat.smallDie&&M(ut,t[1].visible.combat.smallDie),Pe&2&&de.value!==t[1].visible.combat.critical&&M(de,t[1].visible.combat.critical),Pe&2&&Ot.value!==t[1].visible.combat.type&&M(Ot,t[1].visible.combat.type),(!wt||Pe&1&&Xt!==(Xt="btn "+t[0].buttonNeutral))&&f(Bt,"class",Xt),(!wt||Pe&1&&Kt!==(Kt="btn "+t[0].buttonPositive))&&f(kt,"class",Kt),(!wt||Pe&2&&Qt!==(Qt=!t[1].description.name))&&(kt.disabled=Qt),(!wt||Pe&1&&Zt!==(Zt="modal-footer "+t[0].regionFooter))&&f(be,"class",Zt)},i(st){wt||(W(We.$$.fragment,st),wt=!0)},o(st){ee(We.$$.fragment,st),wt=!1},d(st){st&&d(e),Ct(We),Yt=!1,ct(cl)}}}function fo(t){let e,l,a=t[2][0]&&Za(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[2][0]?a?(a.p(s,r),r&4&&W(a,1)):(a=Za(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const po="card p-4 w-modal shadow-xl space-y-4 overflow-auto",ho="text-2xl font-bold",bo="border border-surface-500 p-4 space-y-4 rounded-container-token";function _o(t,e,l){let a,s;te(t,Vt,D=>l(20,a=D)),te(t,Ce,D=>l(2,s=D));let{parent:r}=e,o={id:"",tag:"",note:"",equipped:!1,description:{name:"",source:null,price:"0 gp",weight:0},visible:{size:null,armorBonus:0,checkPenalty:0,maxDexBonus:0,arcaneSpellFailure:0,speed_20:"20 ft",speed_30:"30 ft",coverage:[],combat:{mediumDie:null,smallDie:null,critical:null,type:[]}},hidden:{type:""},inputs:{}},i=["head","body","arms","legs","hands","feet","other"];function c(){l(1,o.id=Sl(o.description.name),o),l(1,o.tag=ml(),o),tt(Vt,a.userArmor=[...a.userArmor,o],a),Ce.close()}function h(){o.description.name=this.value,l(1,o)}function u(){o.hidden.type=ra(this),l(1,o)}function p(){o.description.price=this.value,l(1,o)}function v(){o.description.weight=yt(this.value),l(1,o)}function y(){o.visible.armorBonus=yt(this.value),l(1,o)}function k(){o.visible.checkPenalty=yt(this.value),l(1,o)}function m(){o.visible.maxDexBonus=yt(this.value),l(1,o)}function C(){o.visible.arcaneSpellFailure=yt(this.value),l(1,o)}function E(){o.visible.speed_20=this.value,l(1,o)}function T(){o.visible.speed_30=this.value,l(1,o)}function L(D){t.$$.not_equal(o.visible.coverage,D)&&(o.visible.coverage=D,l(1,o))}function O(){o.visible.combat.mediumDie=this.value,l(1,o)}function N(){o.visible.combat.smallDie=this.value,l(1,o)}function B(){o.visible.combat.critical=this.value,l(1,o)}function w(){o.visible.combat.type=this.value,l(1,o)}return t.$$set=D=>{"parent"in D&&l(0,r=D.parent)},[r,o,s,i,c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w]}class mo extends Nt{constructor(e){super(),Tt(this,e,_o,fo,mt,{parent:0})}}function xa(t,e,l){const a=t.slice();return a[8]=e[l],a}function $a(t,e,l){const a=t.slice();return a[11]=e[l],a}function es(t,e,l){const a=t.slice();return a[11]=e[l],a}function ts(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C,E,T,L,O,N,B;return i=new wl({props:{autocollapse:!0,$$slots:{default:[Io]},$$scope:{ctx:t}}}),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),St(i.$$.fragment),c=I(),h=b("div"),u=b("footer"),p=b("button"),v=S("Cancel"),k=I(),m=b("button"),C=S("Add Items"),this.h()},l(w){e=_(w,"DIV",{class:!0});var D=g(e);l=_(D,"HEADER",{class:!0});var J=g(l);s=P(J,a),J.forEach(d),r=A(D),o=_(D,"DIV",{class:!0});var q=g(o);Dt(i.$$.fragment,q),q.forEach(d),c=A(D),h=_(D,"DIV",{class:!0});var j=g(h);u=_(j,"FOOTER",{class:!0});var G=g(u);p=_(G,"BUTTON",{class:!0});var Y=g(p);v=P(Y,"Cancel"),Y.forEach(d),k=A(G),m=_(G,"BUTTON",{class:!0});var Z=g(m);C=P(Z,"Add Items"),Z.forEach(d),G.forEach(d),j.forEach(d),D.forEach(d),this.h()},h(){f(l,"class",So),f(o,"class","modal-form "+Po+" max-h-[720px] overflow-auto"),f(p,"class",y="btn "+t[0].buttonNeutral),f(m,"class",E="btn "+t[0].buttonPositive),m.disabled=T=t[1].length<1,f(u,"class",L="modal-footer "+t[0].regionFooter),f(h,"class","justify-between"),f(e,"class","w-modal-wide "+Lo)},m(w,D){U(w,e,D),n(e,l),n(l,s),n(e,r),n(e,o),Pt(i,o,null),n(e,c),n(e,h),n(h,u),n(u,p),n(p,v),n(u,k),n(u,m),n(m,C),O=!0,N||(B=[R(p,"click",Ce.close),R(m,"click",t[4])],N=!0)},p(w,D){(!O||D&4)&&a!==(a=(w[2][0].title??"(title missing)")+"")&&Be(s,a);const J={};D&65538&&(J.$$scope={dirty:D,ctx:w}),i.$set(J),(!O||D&1&&y!==(y="btn "+w[0].buttonNeutral))&&f(p,"class",y),(!O||D&1&&E!==(E="btn "+w[0].buttonPositive))&&f(m,"class",E),(!O||D&2&&T!==(T=w[1].length<1))&&(m.disabled=T),(!O||D&1&&L!==(L="modal-footer "+w[0].regionFooter))&&f(u,"class",L)},i(w){O||(W(i.$$.fragment,w),O=!0)},o(w){ee(i.$$.fragment,w),O=!1},d(w){w&&d(e),Ct(i),N=!1,ct(B)}}}function ls(t){let e,l,a=Ut(t[1],t[8].id).qty+"",s,r,o,i,c,h;function u(){return t[6](t[8])}return{c(){e=b("span"),l=b("strong"),s=S(a),r=I(),o=b("button"),i=b("iconify-icon"),this.h()},l(p){e=_(p,"SPAN",{class:!0});var v=g(e);l=_(v,"STRONG",{});var y=g(l);s=P(y,a),y.forEach(d),v.forEach(d),r=A(p),o=_(p,"BUTTON",{class:!0});var k=g(o);i=_(k,"ICONIFY-ICON",{icon:!0}),g(i).forEach(d),k.forEach(d),this.h()},h(){f(e,"class","inline-block text-orange-400"),xt(i,"icon","fa:minus"),f(o,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(p,v){U(p,e,v),n(e,l),n(l,s),U(p,r,v),U(p,o,v),n(o,i),c||(h=R(o,"click",u),c=!0)},p(p,v){t=p,v&2&&a!==(a=Ut(t[1],t[8].id).qty+"")&&Be(s,a)},d(p){p&&d(e),p&&d(r),p&&d(o),c=!1,h()}}}function vo(t){let e,l,a,s=Ut(t[1],t[8].id).in,r,o,i;function c(){return t[5](t[8])}let h=s&&ls(t);return{c(){e=b("button"),l=b("iconify-icon"),a=I(),h&&h.c(),r=I(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var p=g(e);l=_(p,"ICONIFY-ICON",{icon:!0,class:!0}),g(l).forEach(d),p.forEach(d),a=A(u),h&&h.l(u),r=A(u),this.h()},h(){xt(l,"icon","mdi:add-bold"),xt(l,"class","inline-block"),f(e,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(u,p){U(u,e,p),n(e,l),U(u,a,p),h&&h.m(u,p),U(u,r,p),o||(i=R(e,"click",c),o=!0)},p(u,p){t=u,p&2&&(s=Ut(t[1],t[8].id).in),s?h?h.p(t,p):(h=ls(t),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},d(u){u&&d(e),u&&d(a),h&&h.d(u),u&&d(r),o=!1,i()}}}function go(t){let e,l,a=t[8].visible.coverage+"",s,r;return{c(){e=b("li"),l=S("("),s=S(a),r=S(")"),this.h()},l(o){e=_(o,"LI",{class:!0});var i=g(e);l=P(i,"("),s=P(i,a),r=P(i,")"),i.forEach(d),this.h()},h(){f(e,"class","inline-block")},m(o,i){U(o,e,i),n(e,l),n(e,s),n(e,r)},p:Ve,d(o){o&&d(e)}}}function Eo(t){let e,l=t[8].description.name+"",a,s,r,o,i=t[8].description.price+"",c,h,u,p=t[8].description.weight+"",v,y,k,m,C=t[8].visible.coverage.length>0&&go(t);return{c(){e=b("h3"),a=S(l),s=I(),r=b("ul"),o=b("li"),c=S(i),h=I(),u=b("li"),v=S(p),y=S(" lbs."),k=I(),C&&C.c(),m=I(),this.h()},l(E){e=_(E,"H3",{class:!0});var T=g(e);a=P(T,l),T.forEach(d),s=A(E),r=_(E,"UL",{class:!0});var L=g(r);o=_(L,"LI",{class:!0});var O=g(o);c=P(O,i),O.forEach(d),h=A(L),u=_(L,"LI",{class:!0});var N=g(u);v=P(N,p),y=P(N," lbs."),N.forEach(d),k=A(L),C&&C.l(L),L.forEach(d),m=A(E),this.h()},h(){f(e,"class","text-slate-100/80"),f(o,"class","inline-block text-orange-400/70"),f(u,"class","inline-block"),f(r,"class","text-slate-300/70 text-sm space-x-4")},m(E,T){U(E,e,T),n(e,a),U(E,s,T),U(E,r,T),n(r,o),n(o,c),n(r,h),n(r,u),n(u,v),n(u,y),n(r,k),C&&C.m(r,null),U(E,m,T)},p(E,T){E[8].visible.coverage.length>0&&C.p(E,T)},d(E){E&&d(e),E&&d(s),E&&d(r),C&&C.d(),E&&d(m)}}}function ko(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function as(t){let e,l=t[8].visible[t[11]]&&typeof t[8].visible[t[11]]!="object"&&ko(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,s){a[8].visible[a[11]]&&typeof a[8].visible[a[11]]!="object"&&l.p(a,s)},d(a){l&&l.d(a),a&&d(e)}}}function yo(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function No(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function ss(t){let e;function l(r,o){if(r[8].visible.combat[r[11]]&&typeof r[8].visible.combat[r[11]]!="object")return No;if(r[11]==="type"&&r[8].visible.combat.type.length>0)return yo}let a=l(t),s=a&&a(t);return{c(){s&&s.c(),e=Q()},l(r){s&&s.l(r),e=Q()},m(r,o){s&&s.m(r,o),U(r,e,o)},p(r,o){s&&s.p(r,o)},d(r){s&&s.d(r),r&&d(e)}}}function To(t){let e,l,a,s,r,o,i,c=Object.keys(t[8].visible),h=[];for(let v=0;v<c.length;v+=1)h[v]=as(es(t,c,v));let u=Object.keys(t[8].visible.combat),p=[];for(let v=0;v<u.length;v+=1)p[v]=ss($a(t,u,v));return{c(){e=b("div"),l=b("div"),a=b("ul");for(let v=0;v<h.length;v+=1)h[v].c();s=I(),r=b("div"),o=b("ul");for(let v=0;v<p.length;v+=1)p[v].c();i=I(),this.h()},l(v){e=_(v,"DIV",{class:!0});var y=g(e);l=_(y,"DIV",{class:!0});var k=g(l);a=_(k,"UL",{});var m=g(a);for(let T=0;T<h.length;T+=1)h[T].l(m);m.forEach(d),k.forEach(d),s=A(y),r=_(y,"DIV",{class:!0});var C=g(r);o=_(C,"UL",{});var E=g(o);for(let T=0;T<p.length;T+=1)p[T].l(E);E.forEach(d),C.forEach(d),y.forEach(d),i=A(v),this.h()},h(){f(l,"class","space-y-2 ml-2 pl-4 pr-6 pb-2"),f(r,"class","space-y-2 ml-2 pl-4 pr-2 pb-2"),f(e,"class","grid grid-cols-3 gap-1 ml-4 border-l-2 border-b-2 border-slate-500/70 rounded-sm text-slate-100/80")},m(v,y){U(v,e,y),n(e,l),n(l,a);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(a,null);n(e,s),n(e,r),n(r,o);for(let k=0;k<p.length;k+=1)p[k]&&p[k].m(o,null);U(v,i,y)},p(v,y){if(y&8){c=Object.keys(v[8].visible);let k;for(k=0;k<c.length;k+=1){const m=es(v,c,k);h[k]?h[k].p(m,y):(h[k]=as(m),h[k].c(),h[k].m(a,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=c.length}if(y&8){u=Object.keys(v[8].visible.combat);let k;for(k=0;k<u.length;k+=1){const m=$a(v,u,k);p[k]?p[k].p(m,y):(p[k]=ss(m),p[k].c(),p[k].m(o,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=u.length}},d(v){v&&d(e),Ht(h,v),Ht(p,v),v&&d(i)}}}function ns(t){let e,l;return e=new Dl({props:{id:t[8].id,$$slots:{content:[To],summary:[Eo],lead:[vo]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},l(a){Dt(e.$$.fragment,a)},m(a,s){Pt(e,a,s),l=!0},p(a,s){const r={};s&65538&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){Ct(e,a)}}}function Io(t){let e,l,a=t[3],s=[];for(let o=0;o<a.length;o+=1)s[o]=ns(xa(t,a,o));const r=o=>ee(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Q()},m(o,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,i);U(o,e,i),l=!0},p(o,i){if(i&10){a=o[3];let c;for(c=0;c<a.length;c+=1){const h=xa(o,a,c);s[c]?(s[c].p(h,i),W(s[c],1)):(s[c]=ns(h),s[c].c(),W(s[c],1),s[c].m(e.parentNode,e))}for(bt(),c=a.length;c<s.length;c+=1)r(c);_t()}},i(o){if(!l){for(let i=0;i<a.length;i+=1)W(s[i]);l=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)ee(s[i]);l=!1},d(o){Ht(s,o),o&&d(e)}}}function Ao(t){let e,l,a=t[2][0]&&ts(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[2][0]?a?(a.p(s,r),r&4&&W(a,1)):(a=ts(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const Lo="card p-4 w-modal shadow-xl space-y-4",So="text-2xl font-bold",Po="border border-surface-500 p-4 space-y-4 rounded-container-token";function Co(t,e,l){var p;let a,s;te(t,Vt,v=>l(7,a=v)),te(t,Ce,v=>l(2,s=v));let{parent:r}=e;const o=(p=s[0].meta)==null?void 0:p.armor;let i=[];function c(){tt(Vt,a.armor=[...a.armor,...i],a),l(1,i=[]),Ce.close()}const h=v=>{const y={...v,equipped:!1,note:"",tag:ml()};l(1,i=[...i,y])},u=v=>{const y=i.findIndex(k=>v.id===k.id);y!==-1&&(i.splice(y,1),l(1,i=[...i]))};return t.$$set=v=>{"parent"in v&&l(0,r=v.parent)},[r,i,s,o,c,h,u]}class Oo extends Nt{constructor(e){super(),Tt(this,e,Co,Ao,mt,{parent:0})}}function os(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i=(t[2][0].body??"(body missing)")+"",c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w,D,J,q,j,G,Y,Z,le,ae,z,Ee,$,_e,ce,ke,X,Ie,F,H,V,fe,ne,Ue,ie,Oe,pe,Fe,he,we,x,Re,K,oe,Ae,De,ye,Ye,Ne,xe,ue,je,Te,Qe,ve,qe,Le,at,Me,rt,Xe,ft,ge,Ge,se,He,We,nt,Ke,Ft,it,lt,dt,jt,Je,vt,$e,gt,ot,It,Ze,et,pt,ht;function ut(ze){t[14](ze)}let qt={name:"damage type",class:"col-span-2",placeholder:"Enter damage type, press ENTER..."};return t[1].visible.combat.type!==void 0&&(qt.value=t[1].visible.combat.type),Ke=new zs({props:qt}),Yl.push(()=>qs(Ke,"value",ut)),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("article"),c=S(i),h=I(),u=b("form"),p=b("label"),v=b("span"),y=S("Weapon name"),k=I(),m=b("input"),C=I(),E=b("label"),T=b("span"),L=S("Type"),O=I(),N=b("select"),B=b("option"),w=S("Melee"),D=b("option"),J=S("Ranged"),q=I(),j=b("label"),G=b("span"),Y=S("Size"),Z=I(),le=b("input"),ae=I(),z=b("label"),Ee=b("span"),$=S("Price"),_e=I(),ce=b("input"),ke=I(),X=b("label"),Ie=b("span"),F=S("Weight"),H=I(),V=b("input"),fe=I(),ne=b("label"),Ue=b("span"),ie=S("Reference"),Oe=I(),pe=b("input"),Fe=I(),he=b("label"),we=b("span"),x=S("Notes"),Re=I(),K=b("textarea"),Ae=I(),De=b("hr"),ye=I(),Ye=b("h3"),Ne=S("Combat"),xe=I(),ue=b("label"),je=b("span"),Te=S("Medium die"),Qe=I(),ve=b("input"),qe=I(),Le=b("label"),at=b("span"),Me=S("Small die"),rt=I(),Xe=b("input"),ft=I(),ge=b("label"),Ge=b("span"),se=S("Critical"),He=I(),We=b("input"),nt=I(),St(Ke.$$.fragment),it=I(),lt=b("footer"),dt=b("button"),jt=S("Cancel"),vt=I(),$e=b("button"),gt=S("Create Item"),this.h()},l(ze){e=_(ze,"DIV",{class:!0});var re=g(e);l=_(re,"HEADER",{class:!0});var Et=g(l);s=P(Et,a),Et.forEach(d),r=A(re),o=_(re,"ARTICLE",{});var Gt=g(o);c=P(Gt,i),Gt.forEach(d),h=A(re),u=_(re,"FORM",{class:!0});var de=g(u);p=_(de,"LABEL",{class:!0});var At=g(p);v=_(At,"SPAN",{});var Rt=g(v);y=P(Rt,"Weapon name"),Rt.forEach(d),k=A(At),m=_(At,"INPUT",{class:!0,type:!0,placeholder:!0}),At.forEach(d),C=A(de),E=_(de,"LABEL",{class:!0});var Wt=g(E);T=_(Wt,"SPAN",{});var Jt=g(T);L=P(Jt,"Type"),Jt.forEach(d),O=A(Wt),N=_(Wt,"SELECT",{id:!0,class:!0});var Se=g(N);B=_(Se,"OPTION",{});var Ot=g(B);w=P(Ot,"Melee"),Ot.forEach(d),D=_(Se,"OPTION",{});var rl=g(D);J=P(rl,"Ranged"),rl.forEach(d),Se.forEach(d),Wt.forEach(d),q=A(de),j=_(de,"LABEL",{class:!0});var be=g(j);G=_(be,"SPAN",{});var Bt=g(G);Y=P(Bt,"Size"),Bt.forEach(d),Z=A(be),le=_(be,"INPUT",{class:!0,type:!0,placeholder:!0}),be.forEach(d),ae=A(de),z=_(de,"LABEL",{class:!0});var $t=g(z);Ee=_($t,"SPAN",{});var Xt=g(Ee);$=P(Xt,"Price"),Xt.forEach(d),_e=A($t),ce=_($t,"INPUT",{class:!0,type:!0,placeholder:!0}),$t.forEach(d),ke=A(de),X=_(de,"LABEL",{class:!0});var el=g(X);Ie=_(el,"SPAN",{});var kt=g(Ie);F=P(kt,"Weight"),kt.forEach(d),H=A(el),V=_(el,"INPUT",{class:!0,type:!0}),el.forEach(d),fe=A(de),ne=_(de,"LABEL",{class:!0});var tl=g(ne);Ue=_(tl,"SPAN",{});var Kt=g(Ue);ie=P(Kt,"Reference"),Kt.forEach(d),Oe=A(tl),pe=_(tl,"INPUT",{class:!0,type:!0,placeholder:!0}),tl.forEach(d),Fe=A(de),he=_(de,"LABEL",{class:!0});var Qt=g(he);we=_(Qt,"SPAN",{});var Zt=g(we);x=P(Zt,"Notes"),Zt.forEach(d),Re=A(Qt),K=_(Qt,"TEXTAREA",{name:!0,id:!0,class:!0}),g(K).forEach(d),Qt.forEach(d),Ae=A(de),De=_(de,"HR",{class:!0}),ye=A(de),Ye=_(de,"H3",{class:!0});var wt=g(Ye);Ne=P(wt,"Combat"),wt.forEach(d),xe=A(de),ue=_(de,"LABEL",{class:!0});var Yt=g(ue);je=_(Yt,"SPAN",{});var cl=g(je);Te=P(cl,"Medium die"),cl.forEach(d),Qe=A(Yt),ve=_(Yt,"INPUT",{class:!0,type:!0,placeholder:!0}),Yt.forEach(d),qe=A(de),Le=_(de,"LABEL",{class:!0});var ll=g(Le);at=_(ll,"SPAN",{});var fl=g(at);Me=P(fl,"Small die"),fl.forEach(d),rt=A(ll),Xe=_(ll,"INPUT",{class:!0,type:!0,placeholder:!0}),ll.forEach(d),ft=A(de),ge=_(de,"LABEL",{class:!0});var st=g(ge);Ge=_(st,"SPAN",{});var Pe=g(Ge);se=P(Pe,"Critical"),Pe.forEach(d),He=A(st),We=_(st,"INPUT",{class:!0,type:!0,placeholder:!0}),st.forEach(d),nt=A(de),Dt(Ke.$$.fragment,de),de.forEach(d),it=A(re),lt=_(re,"FOOTER",{class:!0});var Mt=g(lt);dt=_(Mt,"BUTTON",{class:!0});var dl=g(dt);jt=P(dl,"Cancel"),dl.forEach(d),vt=A(Mt),$e=_(Mt,"BUTTON",{class:!0});var me=g($e);gt=P(me,"Create Item"),me.forEach(d),Mt.forEach(d),re.forEach(d),this.h()},h(){f(l,"class",Do),f(m,"class","input"),f(m,"type","text"),f(m,"placeholder","Name..."),f(p,"class","label col-span-4"),B.__value="false",B.value=B.__value,B.selected=!0,D.__value="true",D.value=D.__value,D.selected=!0,f(N,"id","type"),f(N,"class","select variant-form-material"),t[1].hidden.isRanged===void 0&&al(()=>t[5].call(N)),f(E,"class","label"),f(le,"class","input variant-form-material"),f(le,"type","text"),f(le,"placeholder","Enter size..."),f(j,"class","label"),f(ce,"class","input variant-form-material"),f(ce,"type","text"),f(ce,"placeholder","Enter price in gp..."),f(z,"class","label"),f(V,"class","input text-center arrow-hide"),f(V,"type","number"),f(X,"class","label"),f(pe,"class","input variant-form-material"),f(pe,"type","text"),f(pe,"placeholder","URL or book and page number..."),f(ne,"class","label col-span-2"),f(K,"name","Note"),f(K,"id",oe=`${t[1].id}Note`),f(K,"class","textarea"),f(he,"class","label col-span-2"),f(De,"class","col-span-4"),f(Ye,"class","col-span-4"),f(ve,"class","input variant-form-material"),f(ve,"type","text"),f(ve,"placeholder","Medium die..."),f(ue,"class","label"),f(Xe,"class","input variant-form-material"),f(Xe,"type","text"),f(Xe,"placeholder","Small die..."),f(Le,"class","label"),f(We,"class","input variant-form-material"),f(We,"type","text"),f(We,"placeholder","Critical..."),f(ge,"class","label"),f(u,"class","modal-form "+Uo+" grid grid-cols-4 gap-2"),f(dt,"class",Je="btn "+t[0].buttonNeutral),f($e,"class",ot="btn "+t[0].buttonPositive),$e.disabled=It=!t[1].description.name,f(lt,"class",Ze="modal-footer "+t[0].regionFooter),f(e,"class","w-modal-wide "+wo)},m(ze,re){U(ze,e,re),n(e,l),n(l,s),n(e,r),n(e,o),n(o,c),n(e,h),n(e,u),n(u,p),n(p,v),n(v,y),n(p,k),n(p,m),M(m,t[1].description.name),n(u,C),n(u,E),n(E,T),n(T,L),n(E,O),n(E,N),n(N,B),n(B,w),n(N,D),n(D,J),Ll(N,t[1].hidden.isRanged,!0),n(u,q),n(u,j),n(j,G),n(G,Y),n(j,Z),n(j,le),M(le,t[1].visible.basic.size),n(u,ae),n(u,z),n(z,Ee),n(Ee,$),n(z,_e),n(z,ce),M(ce,t[1].description.price),n(u,ke),n(u,X),n(X,Ie),n(Ie,F),n(X,H),n(X,V),M(V,t[1].description.weight),n(u,fe),n(u,ne),n(ne,Ue),n(Ue,ie),n(ne,Oe),n(ne,pe),M(pe,t[1].ref),n(u,Fe),n(u,he),n(he,we),n(we,x),n(he,Re),n(he,K),M(K,t[1].note),n(u,Ae),n(u,De),n(u,ye),n(u,Ye),n(Ye,Ne),n(u,xe),n(u,ue),n(ue,je),n(je,Te),n(ue,Qe),n(ue,ve),M(ve,t[1].visible.combat.damage.mediumDie),n(u,qe),n(u,Le),n(Le,at),n(at,Me),n(Le,rt),n(Le,Xe),M(Xe,t[1].visible.combat.damage.smallDie),n(u,ft),n(u,ge),n(ge,Ge),n(Ge,se),n(ge,He),n(ge,We),M(We,t[1].visible.combat.critical),n(u,nt),Pt(Ke,u,null),n(e,it),n(e,lt),n(lt,dt),n(dt,jt),n(lt,vt),n(lt,$e),n($e,gt),et=!0,pt||(ht=[R(m,"input",t[4]),R(N,"change",t[5]),R(le,"input",t[6]),R(ce,"input",t[7]),R(V,"input",t[8]),R(pe,"input",t[9]),R(K,"input",t[10]),R(ve,"input",t[11]),R(Xe,"input",t[12]),R(We,"input",t[13]),R(dt,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R($e,"click",t[3])],pt=!0)},p(ze,re){t=ze,(!et||re&4)&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),(!et||re&4)&&i!==(i=(t[2][0].body??"(body missing)")+"")&&Be(c,i),re&2&&m.value!==t[1].description.name&&M(m,t[1].description.name),re&2&&Ll(N,t[1].hidden.isRanged),re&2&&le.value!==t[1].visible.basic.size&&M(le,t[1].visible.basic.size),re&2&&ce.value!==t[1].description.price&&M(ce,t[1].description.price),re&2&&yt(V.value)!==t[1].description.weight&&M(V,t[1].description.weight),re&2&&pe.value!==t[1].ref&&M(pe,t[1].ref),(!et||re&2&&oe!==(oe=`${t[1].id}Note`))&&f(K,"id",oe),re&2&&M(K,t[1].note),re&2&&ve.value!==t[1].visible.combat.damage.mediumDie&&M(ve,t[1].visible.combat.damage.mediumDie),re&2&&Xe.value!==t[1].visible.combat.damage.smallDie&&M(Xe,t[1].visible.combat.damage.smallDie),re&2&&We.value!==t[1].visible.combat.critical&&M(We,t[1].visible.combat.critical);const Et={};!Ft&&re&2&&(Ft=!0,Et.value=t[1].visible.combat.type,Gs(()=>Ft=!1)),Ke.$set(Et),(!et||re&1&&Je!==(Je="btn "+t[0].buttonNeutral))&&f(dt,"class",Je),(!et||re&1&&ot!==(ot="btn "+t[0].buttonPositive))&&f($e,"class",ot),(!et||re&2&&It!==(It=!t[1].description.name))&&($e.disabled=It),(!et||re&1&&Ze!==(Ze="modal-footer "+t[0].regionFooter))&&f(lt,"class",Ze)},i(ze){et||(W(Ke.$$.fragment,ze),et=!0)},o(ze){ee(Ke.$$.fragment,ze),et=!1},d(ze){ze&&d(e),Ct(Ke),pt=!1,ct(ht)}}}function Bo(t){let e,l,a=t[2][0]&&os(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[2][0]?a?(a.p(s,r),r&4&&W(a,1)):(a=os(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const wo="card p-4 w-modal shadow-xl space-y-4 overflow-auto",Do="text-2xl font-bold",Uo="border border-surface-500 p-4 space-y-4 rounded-container-token";function Fo(t,e,l){let a,s;te(t,Vt,L=>l(15,a=L)),te(t,Ce,L=>l(2,s=L));let{parent:r}=e,o={id:"",tag:"",ref:"",note:"",equipped:!1,description:{name:"",source:null,price:"0 gp",weight:0},visible:{basic:{size:"",ammo:null,reach:null,range:null,blast:null},combat:{damage:{mediumDie:"",smallDie:""},critical:"",type:[]}},hidden:{hardness:null,hp:null,break:null,material:null,isExotic:!1,isRanged:!1},inputs:{}};function i(){l(1,o.id=Sl(o.description.name),o),l(1,o.tag=ml(),o),tt(Vt,a.userWeapons=[...a.userWeapons,o],a),Ce.close()}function c(){o.description.name=this.value,l(1,o)}function h(){o.hidden.isRanged=ra(this),l(1,o)}function u(){o.visible.basic.size=this.value,l(1,o)}function p(){o.description.price=this.value,l(1,o)}function v(){o.description.weight=yt(this.value),l(1,o)}function y(){o.ref=this.value,l(1,o)}function k(){o.note=this.value,l(1,o)}function m(){o.visible.combat.damage.mediumDie=this.value,l(1,o)}function C(){o.visible.combat.damage.smallDie=this.value,l(1,o)}function E(){o.visible.combat.critical=this.value,l(1,o)}function T(L){t.$$.not_equal(o.visible.combat.type,L)&&(o.visible.combat.type=L,l(1,o))}return t.$$set=L=>{"parent"in L&&l(0,r=L.parent)},[r,o,s,i,c,h,u,p,v,y,k,m,C,E,T]}class Ro extends Nt{constructor(e){super(),Tt(this,e,Fo,Bo,mt,{parent:0})}}function rs(t,e,l){const a=t.slice();return a[8]=e[l],a}function is(t,e,l){const a=t.slice();return a[11]=e[l],a}function us(t,e,l){const a=t.slice();return a[11]=e[l],a}function cs(t,e,l){const a=t.slice();return a[11]=e[l],a}function fs(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C,E,T,L,O,N,B;return i=new wl({props:{autocollapse:!0,$$slots:{default:[Jo]},$$scope:{ctx:t}}}),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),St(i.$$.fragment),c=I(),h=b("div"),u=b("footer"),p=b("button"),v=S("Cancel"),k=I(),m=b("button"),C=S("Add Items"),this.h()},l(w){e=_(w,"DIV",{class:!0});var D=g(e);l=_(D,"HEADER",{class:!0});var J=g(l);s=P(J,a),J.forEach(d),r=A(D),o=_(D,"DIV",{class:!0});var q=g(o);Dt(i.$$.fragment,q),q.forEach(d),c=A(D),h=_(D,"DIV",{class:!0});var j=g(h);u=_(j,"FOOTER",{class:!0});var G=g(u);p=_(G,"BUTTON",{class:!0});var Y=g(p);v=P(Y,"Cancel"),Y.forEach(d),k=A(G),m=_(G,"BUTTON",{class:!0});var Z=g(m);C=P(Z,"Add Items"),Z.forEach(d),G.forEach(d),j.forEach(d),D.forEach(d),this.h()},h(){f(l,"class",Yo),f(o,"class","modal-form "+Xo+" max-h-[720px] overflow-auto"),f(p,"class",y="btn "+t[0].buttonNeutral),f(m,"class",E="btn "+t[0].buttonPositive),m.disabled=T=t[1].length<1,f(u,"class",L="modal-footer "+t[0].regionFooter),f(h,"class","justify-between"),f(e,"class","w-modal-wide "+Wo)},m(w,D){U(w,e,D),n(e,l),n(l,s),n(e,r),n(e,o),Pt(i,o,null),n(e,c),n(e,h),n(h,u),n(u,p),n(p,v),n(u,k),n(u,m),n(m,C),O=!0,N||(B=[R(p,"click",Ce.close),R(m,"click",t[4])],N=!0)},p(w,D){(!O||D&4)&&a!==(a=(w[2][0].title??"(title missing)")+"")&&Be(s,a);const J={};D&262146&&(J.$$scope={dirty:D,ctx:w}),i.$set(J),(!O||D&1&&y!==(y="btn "+w[0].buttonNeutral))&&f(p,"class",y),(!O||D&1&&E!==(E="btn "+w[0].buttonPositive))&&f(m,"class",E),(!O||D&2&&T!==(T=w[1].length<1))&&(m.disabled=T),(!O||D&1&&L!==(L="modal-footer "+w[0].regionFooter))&&f(u,"class",L)},i(w){O||(W(i.$$.fragment,w),O=!0)},o(w){ee(i.$$.fragment,w),O=!1},d(w){w&&d(e),Ct(i),N=!1,ct(B)}}}function ds(t){let e,l,a=Ut(t[1],t[8].id).qty+"",s,r,o,i,c,h;function u(){return t[6](t[8])}return{c(){e=b("span"),l=b("strong"),s=S(a),r=I(),o=b("button"),i=b("iconify-icon"),this.h()},l(p){e=_(p,"SPAN",{class:!0});var v=g(e);l=_(v,"STRONG",{});var y=g(l);s=P(y,a),y.forEach(d),v.forEach(d),r=A(p),o=_(p,"BUTTON",{class:!0});var k=g(o);i=_(k,"ICONIFY-ICON",{icon:!0}),g(i).forEach(d),k.forEach(d),this.h()},h(){f(e,"class","inline-block text-orange-400"),xt(i,"icon","fa:minus"),f(o,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(p,v){U(p,e,v),n(e,l),n(l,s),U(p,r,v),U(p,o,v),n(o,i),c||(h=R(o,"click",u),c=!0)},p(p,v){t=p,v&2&&a!==(a=Ut(t[1],t[8].id).qty+"")&&Be(s,a)},d(p){p&&d(e),p&&d(r),p&&d(o),c=!1,h()}}}function Mo(t){let e,l,a,s=Ut(t[1],t[8].id).in,r,o,i;function c(){return t[5](t[8])}let h=s&&ds(t);return{c(){e=b("button"),l=b("iconify-icon"),a=I(),h&&h.c(),r=I(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var p=g(e);l=_(p,"ICONIFY-ICON",{icon:!0,class:!0}),g(l).forEach(d),p.forEach(d),a=A(u),h&&h.l(u),r=A(u),this.h()},h(){xt(l,"icon","mdi:add-bold"),xt(l,"class","inline-block"),f(e,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(u,p){U(u,e,p),n(e,l),U(u,a,p),h&&h.m(u,p),U(u,r,p),o||(i=R(e,"click",c),o=!0)},p(u,p){t=u,p&2&&(s=Ut(t[1],t[8].id).in),s?h?h.p(t,p):(h=ds(t),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},d(u){u&&d(e),u&&d(a),h&&h.d(u),u&&d(r),o=!1,i()}}}function Ho(t){let e,l=t[8].description.name+"",a,s,r,o,i=t[8].description.price+"",c,h,u,p=t[8].description.weight+"",v,y,k;return{c(){e=b("h3"),a=S(l),s=I(),r=b("ul"),o=b("li"),c=S(i),h=I(),u=b("li"),v=S(p),y=S(" lbs."),k=I(),this.h()},l(m){e=_(m,"H3",{class:!0});var C=g(e);a=P(C,l),C.forEach(d),s=A(m),r=_(m,"UL",{class:!0});var E=g(r);o=_(E,"LI",{class:!0});var T=g(o);c=P(T,i),T.forEach(d),h=A(E),u=_(E,"LI",{class:!0});var L=g(u);v=P(L,p),y=P(L," lbs."),L.forEach(d),E.forEach(d),k=A(m),this.h()},h(){f(e,"class","text-slate-100/80"),f(o,"class","inline-block text-orange-400/70"),f(u,"class","inline-block"),f(r,"class","text-slate-300/70 text-sm space-x-4")},m(m,C){U(m,e,C),n(e,a),U(m,s,C),U(m,r,C),n(r,o),n(o,c),n(r,h),n(r,u),n(u,v),n(u,y),U(m,k,C)},p:Ve,d(m){m&&d(e),m&&d(s),m&&d(r),m&&d(k)}}}function Vo(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.basic[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function ps(t){let e,l=t[8].visible.basic[t[11]]&&typeof t[8].visible.basic[t[11]]!="object"&&Vo(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,s){a[8].visible.basic[a[11]]&&typeof a[8].visible.basic[a[11]]!="object"&&l.p(a,s)},d(a){l&&l.d(a),a&&d(e)}}}function hs(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat.damage[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function jo(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function qo(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function bs(t){let e;function l(r,o){if(r[8].visible.combat[r[11]]&&typeof r[8].visible.combat[r[11]]!="object")return qo;if(r[11]==="type"&&r[8].visible.combat.type.length>0)return jo}let a=l(t),s=a&&a(t);return{c(){s&&s.c(),e=Q()},l(r){s&&s.l(r),e=Q()},m(r,o){s&&s.m(r,o),U(r,e,o)},p(r,o){s&&s.p(r,o)},d(r){s&&s.d(r),r&&d(e)}}}function Go(t){let e,l,a,s,r,o,i,c,h=Object.keys(t[8].visible.basic),u=[];for(let m=0;m<h.length;m+=1)u[m]=ps(cs(t,h,m));let p=Object.keys(t[8].visible.combat.damage),v=[];for(let m=0;m<p.length;m+=1)v[m]=hs(us(t,p,m));let y=Object.keys(t[8].visible.combat),k=[];for(let m=0;m<y.length;m+=1)k[m]=bs(is(t,y,m));return{c(){e=b("div"),l=b("div"),a=b("ul");for(let m=0;m<u.length;m+=1)u[m].c();s=I(),r=b("div"),o=b("ul");for(let m=0;m<v.length;m+=1)v[m].c();i=I();for(let m=0;m<k.length;m+=1)k[m].c();c=I(),this.h()},l(m){e=_(m,"DIV",{class:!0});var C=g(e);l=_(C,"DIV",{class:!0});var E=g(l);a=_(E,"UL",{});var T=g(a);for(let N=0;N<u.length;N+=1)u[N].l(T);T.forEach(d),E.forEach(d),s=A(C),r=_(C,"DIV",{class:!0});var L=g(r);o=_(L,"UL",{});var O=g(o);for(let N=0;N<v.length;N+=1)v[N].l(O);i=A(O);for(let N=0;N<k.length;N+=1)k[N].l(O);O.forEach(d),L.forEach(d),C.forEach(d),c=A(m),this.h()},h(){f(l,"class","space-y-2 ml-2 p-2"),f(r,"class","space-y-2 ml-2 p-2"),f(e,"class","grid grid-cols-3 gap-1 ml-4 border-l-2 border-b-2 border-slate-500/70 rounded-sm text-slate-100/80")},m(m,C){U(m,e,C),n(e,l),n(l,a);for(let E=0;E<u.length;E+=1)u[E]&&u[E].m(a,null);n(e,s),n(e,r),n(r,o);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(o,null);n(o,i);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(o,null);U(m,c,C)},p(m,C){if(C&8){h=Object.keys(m[8].visible.basic);let E;for(E=0;E<h.length;E+=1){const T=cs(m,h,E);u[E]?u[E].p(T,C):(u[E]=ps(T),u[E].c(),u[E].m(a,null))}for(;E<u.length;E+=1)u[E].d(1);u.length=h.length}if(C&8){p=Object.keys(m[8].visible.combat.damage);let E;for(E=0;E<p.length;E+=1){const T=us(m,p,E);v[E]?v[E].p(T,C):(v[E]=hs(T),v[E].c(),v[E].m(o,i))}for(;E<v.length;E+=1)v[E].d(1);v.length=p.length}if(C&8){y=Object.keys(m[8].visible.combat);let E;for(E=0;E<y.length;E+=1){const T=is(m,y,E);k[E]?k[E].p(T,C):(k[E]=bs(T),k[E].c(),k[E].m(o,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=y.length}},d(m){m&&d(e),Ht(u,m),Ht(v,m),Ht(k,m),m&&d(c)}}}function _s(t){let e,l;return e=new Dl({props:{id:t[8].id,$$slots:{content:[Go],summary:[Ho],lead:[Mo]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},l(a){Dt(e.$$.fragment,a)},m(a,s){Pt(e,a,s),l=!0},p(a,s){const r={};s&262146&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){Ct(e,a)}}}function Jo(t){let e,l,a=t[3],s=[];for(let o=0;o<a.length;o+=1)s[o]=_s(rs(t,a,o));const r=o=>ee(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Q()},m(o,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,i);U(o,e,i),l=!0},p(o,i){if(i&10){a=o[3];let c;for(c=0;c<a.length;c+=1){const h=rs(o,a,c);s[c]?(s[c].p(h,i),W(s[c],1)):(s[c]=_s(h),s[c].c(),W(s[c],1),s[c].m(e.parentNode,e))}for(bt(),c=a.length;c<s.length;c+=1)r(c);_t()}},i(o){if(!l){for(let i=0;i<a.length;i+=1)W(s[i]);l=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)ee(s[i]);l=!1},d(o){Ht(s,o),o&&d(e)}}}function zo(t){let e,l,a=t[2][0]&&fs(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[2][0]?a?(a.p(s,r),r&4&&W(a,1)):(a=fs(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const Wo="card p-4 w-modal shadow-xl space-y-4",Yo="text-2xl font-bold",Xo="border border-surface-500 p-4 space-y-4 rounded-container-token";function Ko(t,e,l){var p;let a,s;te(t,Vt,v=>l(7,a=v)),te(t,Ce,v=>l(2,s=v));let{parent:r}=e;const o=(p=s[0].meta)==null?void 0:p.weapons;let i=[];function c(){tt(Vt,a.weapons=[...a.weapons,...i],a),l(1,i=[]),Ce.close()}const h=v=>{const y={...v,equipped:!1,note:"",tag:ml()};l(1,i=[...i,y])},u=v=>{const y=i.findIndex(k=>v.id===k.id);y!==-1&&(i.splice(y,1),l(1,i=[...i]))};return t.$$set=v=>{"parent"in v&&l(0,r=v.parent)},[r,i,s,o,c,h,u]}class Qo extends Nt{constructor(e){super(),Tt(this,e,Ko,zo,mt,{parent:0})}}function ms(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i=(t[2][0].body??"(body missing)")+"",c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w,D,J,q,j,G,Y,Z,le,ae,z,Ee,$,_e,ce,ke,X,Ie,F,H,V,fe,ne,Ue,ie,Oe,pe,Fe,he,we,x;return{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("article"),c=S(i),h=I(),u=b("form"),p=b("label"),v=b("span"),y=S("Item name"),k=I(),m=b("input"),C=I(),E=b("label"),T=b("span"),L=S("Price"),O=I(),N=b("input"),B=I(),w=b("label"),D=b("span"),J=S("Weight"),q=I(),j=b("input"),G=I(),Y=b("label"),Z=b("span"),le=S("Reference"),ae=I(),z=b("input"),Ee=I(),$=b("label"),_e=b("span"),ce=S("Notes"),ke=I(),X=b("textarea"),F=I(),H=b("footer"),V=b("button"),fe=S("Cancel"),Ue=I(),ie=b("button"),Oe=S("Create Item"),this.h()},l(Re){e=_(Re,"DIV",{class:!0});var K=g(e);l=_(K,"HEADER",{class:!0});var oe=g(l);s=P(oe,a),oe.forEach(d),r=A(K),o=_(K,"ARTICLE",{});var Ae=g(o);c=P(Ae,i),Ae.forEach(d),h=A(K),u=_(K,"FORM",{class:!0});var De=g(u);p=_(De,"LABEL",{class:!0});var ye=g(p);v=_(ye,"SPAN",{});var Ye=g(v);y=P(Ye,"Item name"),Ye.forEach(d),k=A(ye),m=_(ye,"INPUT",{class:!0,type:!0,placeholder:!0}),ye.forEach(d),C=A(De),E=_(De,"LABEL",{class:!0});var Ne=g(E);T=_(Ne,"SPAN",{});var xe=g(T);L=P(xe,"Price"),xe.forEach(d),O=A(Ne),N=_(Ne,"INPUT",{class:!0,type:!0,placeholder:!0}),Ne.forEach(d),B=A(De),w=_(De,"LABEL",{class:!0});var ue=g(w);D=_(ue,"SPAN",{});var je=g(D);J=P(je,"Weight"),je.forEach(d),q=A(ue),j=_(ue,"INPUT",{class:!0,type:!0}),ue.forEach(d),G=A(De),Y=_(De,"LABEL",{class:!0});var Te=g(Y);Z=_(Te,"SPAN",{});var Qe=g(Z);le=P(Qe,"Reference"),Qe.forEach(d),ae=A(Te),z=_(Te,"INPUT",{class:!0,type:!0,placeholder:!0}),Te.forEach(d),Ee=A(De),$=_(De,"LABEL",{class:!0});var ve=g($);_e=_(ve,"SPAN",{});var qe=g(_e);ce=P(qe,"Notes"),qe.forEach(d),ke=A(ve),X=_(ve,"TEXTAREA",{name:!0,id:!0,class:!0}),g(X).forEach(d),ve.forEach(d),De.forEach(d),F=A(K),H=_(K,"FOOTER",{class:!0});var Le=g(H);V=_(Le,"BUTTON",{class:!0});var at=g(V);fe=P(at,"Cancel"),at.forEach(d),Ue=A(Le),ie=_(Le,"BUTTON",{class:!0});var Me=g(ie);Oe=P(Me,"Create Item"),Me.forEach(d),Le.forEach(d),K.forEach(d),this.h()},h(){f(l,"class",$o),f(m,"class","input"),f(m,"type","text"),f(m,"placeholder","Name..."),f(p,"class","label col-span-4"),f(N,"class","input variant-form-material"),f(N,"type","text"),f(N,"placeholder","Enter price in gp..."),f(E,"class","label"),f(j,"class","input text-center arrow-hide"),f(j,"type","number"),f(w,"class","label"),f(z,"class","input variant-form-material"),f(z,"type","text"),f(z,"placeholder","URL or book and page number..."),f(Y,"class","label col-span-2"),f(X,"name","Note"),f(X,"id",Ie=`${t[1].id}Note`),f(X,"class","textarea"),f($,"class","label col-span-2"),f(u,"class","modal-form "+er+" grid grid-cols-4 gap-2"),f(V,"class",ne="btn "+t[0].buttonNeutral),f(ie,"class",pe="btn "+t[0].buttonPositive),ie.disabled=Fe=!t[1].description.name,f(H,"class",he="modal-footer "+t[0].regionFooter),f(e,"class","w-modal-wide "+xo)},m(Re,K){U(Re,e,K),n(e,l),n(l,s),n(e,r),n(e,o),n(o,c),n(e,h),n(e,u),n(u,p),n(p,v),n(v,y),n(p,k),n(p,m),M(m,t[1].description.name),n(u,C),n(u,E),n(E,T),n(T,L),n(E,O),n(E,N),M(N,t[1].description.price),n(u,B),n(u,w),n(w,D),n(D,J),n(w,q),n(w,j),M(j,t[1].description.weight),n(u,G),n(u,Y),n(Y,Z),n(Z,le),n(Y,ae),n(Y,z),M(z,t[1].ref),n(u,Ee),n(u,$),n($,_e),n(_e,ce),n($,ke),n($,X),M(X,t[1].note),n(e,F),n(e,H),n(H,V),n(V,fe),n(H,Ue),n(H,ie),n(ie,Oe),we||(x=[R(m,"input",t[4]),R(N,"input",t[5]),R(j,"input",t[6]),R(z,"input",t[7]),R(X,"input",t[8]),R(V,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R(ie,"click",t[3])],we=!0)},p(Re,K){t=Re,K&4&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),K&4&&i!==(i=(t[2][0].body??"(body missing)")+"")&&Be(c,i),K&2&&m.value!==t[1].description.name&&M(m,t[1].description.name),K&2&&N.value!==t[1].description.price&&M(N,t[1].description.price),K&2&&yt(j.value)!==t[1].description.weight&&M(j,t[1].description.weight),K&2&&z.value!==t[1].ref&&M(z,t[1].ref),K&2&&Ie!==(Ie=`${t[1].id}Note`)&&f(X,"id",Ie),K&2&&M(X,t[1].note),K&1&&ne!==(ne="btn "+t[0].buttonNeutral)&&f(V,"class",ne),K&1&&pe!==(pe="btn "+t[0].buttonPositive)&&f(ie,"class",pe),K&2&&Fe!==(Fe=!t[1].description.name)&&(ie.disabled=Fe),K&1&&he!==(he="modal-footer "+t[0].regionFooter)&&f(H,"class",he)},d(Re){Re&&d(e),we=!1,ct(x)}}}function Zo(t){let e,l=t[2][0]&&ms(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,[s]){a[2][0]?l?l.p(a,s):(l=ms(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(a){l&&l.d(a),a&&d(e)}}}const xo="card p-4 w-modal shadow-xl space-y-4 overflow-auto",$o="text-2xl font-bold",er="border border-surface-500 p-4 space-y-4 rounded-container-token";function tr(t,e,l){let a,s;te(t,Vt,y=>l(9,a=y)),te(t,Ce,y=>l(2,s=y));let{parent:r}=e,o={id:"",tag:"",ref:"",note:"",equipped:!1,description:{name:"",source:null,price:"0 gp",weight:0},visible:{basic:{},combat:{}},hidden:{type:null},inputs:{}};function i(){l(1,o.id=Sl(o.description.name),o),l(1,o.tag=ml(),o),tt(Vt,a.userEquipment=[...a.userEquipment,o],a),Ce.close()}function c(){o.description.name=this.value,l(1,o)}function h(){o.description.price=this.value,l(1,o)}function u(){o.description.weight=yt(this.value),l(1,o)}function p(){o.ref=this.value,l(1,o)}function v(){o.note=this.value,l(1,o)}return t.$$set=y=>{"parent"in y&&l(0,r=y.parent)},[r,o,s,i,c,h,u,p,v]}class lr extends Nt{constructor(e){super(),Tt(this,e,tr,Zo,mt,{parent:0})}}function vs(t,e,l){const a=t.slice();return a[8]=e[l],a}function gs(t,e,l){const a=t.slice();return a[11]=e[l],a}function Es(t,e,l){const a=t.slice();return a[11]=e[l],a}function ks(t,e,l){const a=t.slice();return a[11]=e[l],a}function ys(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C,E,T,L,O,N,B;return i=new wl({props:{autocollapse:!0,$$slots:{default:[ur]},$$scope:{ctx:t}}}),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),St(i.$$.fragment),c=I(),h=b("div"),u=b("footer"),p=b("button"),v=S("Cancel"),k=I(),m=b("button"),C=S("Add Items"),this.h()},l(w){e=_(w,"DIV",{class:!0});var D=g(e);l=_(D,"HEADER",{class:!0});var J=g(l);s=P(J,a),J.forEach(d),r=A(D),o=_(D,"DIV",{class:!0});var q=g(o);Dt(i.$$.fragment,q),q.forEach(d),c=A(D),h=_(D,"DIV",{class:!0});var j=g(h);u=_(j,"FOOTER",{class:!0});var G=g(u);p=_(G,"BUTTON",{class:!0});var Y=g(p);v=P(Y,"Cancel"),Y.forEach(d),k=A(G),m=_(G,"BUTTON",{class:!0});var Z=g(m);C=P(Z,"Add Items"),Z.forEach(d),G.forEach(d),j.forEach(d),D.forEach(d),this.h()},h(){f(l,"class",dr),f(o,"class","modal-form "+pr+" max-h-[720px] overflow-auto"),f(p,"class",y="btn "+t[0].buttonNeutral),f(m,"class",E="btn "+t[0].buttonPositive),m.disabled=T=t[1].length<1,f(u,"class",L="modal-footer "+t[0].regionFooter),f(h,"class","justify-between"),f(e,"class","w-modal-wide "+fr)},m(w,D){U(w,e,D),n(e,l),n(l,s),n(e,r),n(e,o),Pt(i,o,null),n(e,c),n(e,h),n(h,u),n(u,p),n(p,v),n(u,k),n(u,m),n(m,C),O=!0,N||(B=[R(p,"click",Ce.close),R(m,"click",t[4])],N=!0)},p(w,D){(!O||D&4)&&a!==(a=(w[2][0].title??"(title missing)")+"")&&Be(s,a);const J={};D&262146&&(J.$$scope={dirty:D,ctx:w}),i.$set(J),(!O||D&1&&y!==(y="btn "+w[0].buttonNeutral))&&f(p,"class",y),(!O||D&1&&E!==(E="btn "+w[0].buttonPositive))&&f(m,"class",E),(!O||D&2&&T!==(T=w[1].length<1))&&(m.disabled=T),(!O||D&1&&L!==(L="modal-footer "+w[0].regionFooter))&&f(u,"class",L)},i(w){O||(W(i.$$.fragment,w),O=!0)},o(w){ee(i.$$.fragment,w),O=!1},d(w){w&&d(e),Ct(i),N=!1,ct(B)}}}function Ns(t){let e,l,a=Ut(t[1],t[8].id).qty+"",s,r,o,i,c,h;function u(){return t[6](t[8])}return{c(){e=b("span"),l=b("strong"),s=S(a),r=I(),o=b("button"),i=b("iconify-icon"),this.h()},l(p){e=_(p,"SPAN",{class:!0});var v=g(e);l=_(v,"STRONG",{});var y=g(l);s=P(y,a),y.forEach(d),v.forEach(d),r=A(p),o=_(p,"BUTTON",{class:!0});var k=g(o);i=_(k,"ICONIFY-ICON",{icon:!0}),g(i).forEach(d),k.forEach(d),this.h()},h(){f(e,"class","inline-block text-orange-400"),xt(i,"icon","fa:minus"),f(o,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(p,v){U(p,e,v),n(e,l),n(l,s),U(p,r,v),U(p,o,v),n(o,i),c||(h=R(o,"click",u),c=!0)},p(p,v){t=p,v&2&&a!==(a=Ut(t[1],t[8].id).qty+"")&&Be(s,a)},d(p){p&&d(e),p&&d(r),p&&d(o),c=!1,h()}}}function ar(t){let e,l,a,s=Ut(t[1],t[8].id).in,r,o,i;function c(){return t[5](t[8])}let h=s&&Ns(t);return{c(){e=b("button"),l=b("iconify-icon"),a=I(),h&&h.c(),r=I(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var p=g(e);l=_(p,"ICONIFY-ICON",{icon:!0,class:!0}),g(l).forEach(d),p.forEach(d),a=A(u),h&&h.l(u),r=A(u),this.h()},h(){xt(l,"icon","mdi:add-bold"),xt(l,"class","inline-block"),f(e,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(u,p){U(u,e,p),n(e,l),U(u,a,p),h&&h.m(u,p),U(u,r,p),o||(i=R(e,"click",c),o=!0)},p(u,p){t=u,p&2&&(s=Ut(t[1],t[8].id).in),s?h?h.p(t,p):(h=Ns(t),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},d(u){u&&d(e),u&&d(a),h&&h.d(u),u&&d(r),o=!1,i()}}}function sr(t){let e,l=t[8].description.name+"",a,s,r,o,i=t[8].description.price+"",c,h,u,p=t[8].description.weight+"",v,y,k;return{c(){e=b("h3"),a=S(l),s=I(),r=b("ul"),o=b("li"),c=S(i),h=I(),u=b("li"),v=S(p),y=S(" lbs."),k=I(),this.h()},l(m){e=_(m,"H3",{class:!0});var C=g(e);a=P(C,l),C.forEach(d),s=A(m),r=_(m,"UL",{class:!0});var E=g(r);o=_(E,"LI",{class:!0});var T=g(o);c=P(T,i),T.forEach(d),h=A(E),u=_(E,"LI",{class:!0});var L=g(u);v=P(L,p),y=P(L," lbs."),L.forEach(d),E.forEach(d),k=A(m),this.h()},h(){f(e,"class","text-slate-100/80"),f(o,"class","inline-block text-orange-400/70"),f(u,"class","inline-block"),f(r,"class","text-slate-300/70 text-sm space-x-4")},m(m,C){U(m,e,C),n(e,a),U(m,s,C),U(m,r,C),n(r,o),n(o,c),n(r,h),n(r,u),n(u,v),n(u,y),U(m,k,C)},p:Ve,d(m){m&&d(e),m&&d(s),m&&d(r),m&&d(k)}}}function nr(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.basic[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function Ts(t){let e,l=t[8].visible.basic[t[11]]&&typeof t[8].visible.basic[t[11]]!="object"&&nr(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,s){a[8].visible.basic[a[11]]&&typeof a[8].visible.basic[a[11]]!="object"&&l.p(a,s)},d(a){l&&l.d(a),a&&d(e)}}}function Is(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.basic[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function or(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function rr(t){let e,l=nl(t[11])+"",a,s,r=t[8].visible.combat[t[11]]+"",o;return{c(){e=b("li"),a=S(l),s=S(": "),o=S(r)},l(i){e=_(i,"LI",{});var c=g(e);a=P(c,l),s=P(c,": "),o=P(c,r),c.forEach(d)},m(i,c){U(i,e,c),n(e,a),n(e,s),n(e,o)},p:Ve,d(i){i&&d(e)}}}function As(t){let e;function l(r,o){if(r[8].visible.combat[r[11]]&&typeof r[8].visible.combat[r[11]]!="object")return rr;if(r[11]==="type"&&r[8].visible.combat.type.length>0)return or}let a=l(t),s=a&&a(t);return{c(){s&&s.c(),e=Q()},l(r){s&&s.l(r),e=Q()},m(r,o){s&&s.m(r,o),U(r,e,o)},p(r,o){s&&s.p(r,o)},d(r){s&&s.d(r),r&&d(e)}}}function ir(t){let e,l,a,s,r,o,i,c,h=Object.keys(t[8].visible.basic),u=[];for(let m=0;m<h.length;m+=1)u[m]=Ts(ks(t,h,m));let p=Object.keys(t[8].visible.basic),v=[];for(let m=0;m<p.length;m+=1)v[m]=Is(Es(t,p,m));let y=Object.keys(t[8].visible.combat),k=[];for(let m=0;m<y.length;m+=1)k[m]=As(gs(t,y,m));return{c(){e=b("div"),l=b("div"),a=b("ul");for(let m=0;m<u.length;m+=1)u[m].c();s=I(),r=b("div"),o=b("ul");for(let m=0;m<v.length;m+=1)v[m].c();i=I();for(let m=0;m<k.length;m+=1)k[m].c();c=I(),this.h()},l(m){e=_(m,"DIV",{class:!0});var C=g(e);l=_(C,"DIV",{class:!0});var E=g(l);a=_(E,"UL",{});var T=g(a);for(let N=0;N<u.length;N+=1)u[N].l(T);T.forEach(d),E.forEach(d),s=A(C),r=_(C,"DIV",{class:!0});var L=g(r);o=_(L,"UL",{});var O=g(o);for(let N=0;N<v.length;N+=1)v[N].l(O);i=A(O);for(let N=0;N<k.length;N+=1)k[N].l(O);O.forEach(d),L.forEach(d),C.forEach(d),c=A(m),this.h()},h(){f(l,"class","space-y-2 ml-2 p-2"),f(r,"class","space-y-2 ml-2 p-2"),f(e,"class","grid grid-cols-3 gap-1 ml-4 border-l-2 border-b-2 border-slate-500/70 rounded-sm text-slate-100/80")},m(m,C){U(m,e,C),n(e,l),n(l,a);for(let E=0;E<u.length;E+=1)u[E]&&u[E].m(a,null);n(e,s),n(e,r),n(r,o);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(o,null);n(o,i);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(o,null);U(m,c,C)},p(m,C){if(C&8){h=Object.keys(m[8].visible.basic);let E;for(E=0;E<h.length;E+=1){const T=ks(m,h,E);u[E]?u[E].p(T,C):(u[E]=Ts(T),u[E].c(),u[E].m(a,null))}for(;E<u.length;E+=1)u[E].d(1);u.length=h.length}if(C&8){p=Object.keys(m[8].visible.basic);let E;for(E=0;E<p.length;E+=1){const T=Es(m,p,E);v[E]?v[E].p(T,C):(v[E]=Is(T),v[E].c(),v[E].m(o,i))}for(;E<v.length;E+=1)v[E].d(1);v.length=p.length}if(C&8){y=Object.keys(m[8].visible.combat);let E;for(E=0;E<y.length;E+=1){const T=gs(m,y,E);k[E]?k[E].p(T,C):(k[E]=As(T),k[E].c(),k[E].m(o,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=y.length}},d(m){m&&d(e),Ht(u,m),Ht(v,m),Ht(k,m),m&&d(c)}}}function Ls(t){let e,l;return e=new Dl({props:{id:t[8].id,$$slots:{content:[ir],summary:[sr],lead:[ar]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},l(a){Dt(e.$$.fragment,a)},m(a,s){Pt(e,a,s),l=!0},p(a,s){const r={};s&262146&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){Ct(e,a)}}}function ur(t){let e,l,a=t[3],s=[];for(let o=0;o<a.length;o+=1)s[o]=Ls(vs(t,a,o));const r=o=>ee(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Q()},m(o,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,i);U(o,e,i),l=!0},p(o,i){if(i&10){a=o[3];let c;for(c=0;c<a.length;c+=1){const h=vs(o,a,c);s[c]?(s[c].p(h,i),W(s[c],1)):(s[c]=Ls(h),s[c].c(),W(s[c],1),s[c].m(e.parentNode,e))}for(bt(),c=a.length;c<s.length;c+=1)r(c);_t()}},i(o){if(!l){for(let i=0;i<a.length;i+=1)W(s[i]);l=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)ee(s[i]);l=!1},d(o){Ht(s,o),o&&d(e)}}}function cr(t){let e,l,a=t[2][0]&&ys(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[2][0]?a?(a.p(s,r),r&4&&W(a,1)):(a=ys(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const fr="card p-4 w-modal shadow-xl space-y-4",dr="text-2xl font-bold",pr="border border-surface-500 p-4 space-y-4 rounded-container-token";function hr(t,e,l){var p;let a,s;te(t,Vt,v=>l(7,a=v)),te(t,Ce,v=>l(2,s=v));let{parent:r}=e;const o=(p=s[0].meta)==null?void 0:p.gear;let i=[];function c(){tt(Vt,a.equipment=[...a.equipment,...i],a),l(1,i=[]),console.log(a.equipment),Ce.close()}const h=v=>{const y={...v,equipped:!1,note:"",tag:ml()};l(1,i=[...i,y])},u=v=>{const y=i.findIndex(k=>v.id===k.id);y!==-1&&(i.splice(y,1),l(1,i=[...i]))};return t.$$set=v=>{"parent"in v&&l(0,r=v.parent)},[r,i,s,o,c,h,u]}class br extends Nt{constructor(e){super(),Tt(this,e,hr,cr,mt,{parent:0})}}function Ss(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i=(t[2][0].body??"(body missing)")+"",c,h,u,p,v,y,k,m,C,E,T,L,O,N,B,w,D,J,q,j,G,Y,Z,le,ae,z,Ee,$,_e,ce,ke,X,Ie,F,H,V,fe,ne,Ue,ie,Oe,pe,Fe,he,we,x,Re,K,oe,Ae,De,ye,Ye,Ne,xe,ue,je,Te,Qe,ve,qe,Le,at,Me,rt,Xe,ft,ge,Ge,se,He,We,nt,Ke,Ft,it,lt,dt,jt,Je,vt,$e,gt,ot,It,Ze,et,pt,ht,ut,qt,ze,re,Et,Gt,de,At,Rt,Wt;return{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("article"),c=S(i),h=I(),u=b("form"),p=b("label"),v=b("span"),y=S("Spell name"),k=I(),m=b("input"),C=I(),E=b("label"),T=b("span"),L=S("Casting Time"),O=I(),N=b("input"),B=I(),w=b("label"),D=b("span"),J=S("Range"),q=I(),j=b("input"),G=I(),Y=b("label"),Z=b("span"),le=S("Duration"),ae=I(),z=b("input"),Ee=I(),$=b("label"),_e=b("span"),ce=S("Level"),ke=I(),X=b("input"),Ie=I(),F=b("label"),H=b("span"),V=S("School"),fe=I(),ne=b("input"),Ue=I(),ie=b("label"),Oe=b("span"),pe=S("Description"),Fe=I(),he=b("textarea"),we=I(),x=b("label"),Re=b("span"),K=S("Classes"),oe=I(),Ae=b("input"),De=I(),ye=b("label"),Ye=b("span"),Ne=S("Concentration"),xe=I(),ue=b("input"),je=I(),Te=b("label"),Qe=b("span"),ve=S("Ritual"),qe=I(),Le=b("input"),at=I(),Me=b("label"),rt=b("span"),Xe=S("Components"),ft=I(),ge=b("input"),Ge=I(),se=b("label"),He=b("span"),We=S("Material"),nt=I(),Ke=b("input"),Ft=I(),it=b("label"),lt=b("span"),dt=S("Higher level"),jt=I(),Je=b("textarea"),vt=I(),$e=b("label"),gt=b("span"),ot=S("Reference"),It=I(),Ze=b("input"),et=I(),pt=b("footer"),ht=b("button"),ut=S("Cancel"),ze=I(),re=b("button"),Et=S("Create Spell"),this.h()},l(Jt){e=_(Jt,"DIV",{class:!0});var Se=g(e);l=_(Se,"HEADER",{class:!0});var Ot=g(l);s=P(Ot,a),Ot.forEach(d),r=A(Se),o=_(Se,"ARTICLE",{});var rl=g(o);c=P(rl,i),rl.forEach(d),h=A(Se),u=_(Se,"FORM",{class:!0});var be=g(u);p=_(be,"LABEL",{class:!0});var Bt=g(p);v=_(Bt,"SPAN",{});var $t=g(v);y=P($t,"Spell name"),$t.forEach(d),k=A(Bt),m=_(Bt,"INPUT",{class:!0,type:!0,placeholder:!0}),Bt.forEach(d),C=A(be),E=_(be,"LABEL",{class:!0});var Xt=g(E);T=_(Xt,"SPAN",{});var el=g(T);L=P(el,"Casting Time"),el.forEach(d),O=A(Xt),N=_(Xt,"INPUT",{class:!0,type:!0,placeholder:!0}),Xt.forEach(d),B=A(be),w=_(be,"LABEL",{class:!0});var kt=g(w);D=_(kt,"SPAN",{});var tl=g(D);J=P(tl,"Range"),tl.forEach(d),q=A(kt),j=_(kt,"INPUT",{class:!0,type:!0,placeholder:!0}),kt.forEach(d),G=A(be),Y=_(be,"LABEL",{class:!0});var Kt=g(Y);Z=_(Kt,"SPAN",{});var Qt=g(Z);le=P(Qt,"Duration"),Qt.forEach(d),ae=A(Kt),z=_(Kt,"INPUT",{class:!0,type:!0,placeholder:!0}),Kt.forEach(d),Ee=A(be),$=_(be,"LABEL",{class:!0});var Zt=g($);_e=_(Zt,"SPAN",{});var wt=g(_e);ce=P(wt,"Level"),wt.forEach(d),ke=A(Zt),X=_(Zt,"INPUT",{class:!0,type:!0,placeholder:!0}),Zt.forEach(d),Ie=A(be),F=_(be,"LABEL",{class:!0});var Yt=g(F);H=_(Yt,"SPAN",{});var cl=g(H);V=P(cl,"School"),cl.forEach(d),fe=A(Yt),ne=_(Yt,"INPUT",{class:!0,type:!0,placeholder:!0}),Yt.forEach(d),Ue=A(be),ie=_(be,"LABEL",{class:!0});var ll=g(ie);Oe=_(ll,"SPAN",{});var fl=g(Oe);pe=P(fl,"Description"),fl.forEach(d),Fe=A(ll),he=_(ll,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),g(he).forEach(d),ll.forEach(d),we=A(be),x=_(be,"LABEL",{class:!0});var st=g(x);Re=_(st,"SPAN",{});var Pe=g(Re);K=P(Pe,"Classes"),Pe.forEach(d),oe=A(st),Ae=_(st,"INPUT",{class:!0,type:!0,placeholder:!0}),st.forEach(d),De=A(be),ye=_(be,"LABEL",{class:!0});var Mt=g(ye);Ye=_(Mt,"SPAN",{});var dl=g(Ye);Ne=P(dl,"Concentration"),dl.forEach(d),xe=A(Mt),ue=_(Mt,"INPUT",{class:!0,type:!0,placeholder:!0}),Mt.forEach(d),je=A(be),Te=_(be,"LABEL",{class:!0});var me=g(Te);Qe=_(me,"SPAN",{});var vl=g(Qe);ve=P(vl,"Ritual"),vl.forEach(d),qe=A(me),Le=_(me,"INPUT",{class:!0,type:!0,placeholder:!0}),me.forEach(d),at=A(be),Me=_(be,"LABEL",{class:!0});var gl=g(Me);rt=_(gl,"SPAN",{});var El=g(rt);Xe=P(El,"Components"),El.forEach(d),ft=A(gl),ge=_(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(d),Ge=A(be),se=_(be,"LABEL",{class:!0});var kl=g(se);He=_(kl,"SPAN",{});var pl=g(He);We=P(pl,"Material"),pl.forEach(d),nt=A(kl),Ke=_(kl,"INPUT",{class:!0,type:!0,placeholder:!0}),kl.forEach(d),Ft=A(be),it=_(be,"LABEL",{class:!0});var yl=g(it);lt=_(yl,"SPAN",{});var Pl=g(lt);dt=P(Pl,"Higher level"),Pl.forEach(d),jt=A(yl),Je=_(yl,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),g(Je).forEach(d),yl.forEach(d),vt=A(be),$e=_(be,"LABEL",{class:!0});var Nl=g($e);gt=_(Nl,"SPAN",{});var Cl=g(gt);ot=P(Cl,"Reference"),Cl.forEach(d),It=A(Nl),Ze=_(Nl,"INPUT",{class:!0,type:!0,placeholder:!0}),Nl.forEach(d),be.forEach(d),et=A(Se),pt=_(Se,"FOOTER",{class:!0});var il=g(pt);ht=_(il,"BUTTON",{class:!0});var Ol=g(ht);ut=P(Ol,"Cancel"),Ol.forEach(d),ze=A(il),re=_(il,"BUTTON",{class:!0});var Tl=g(re);Et=P(Tl,"Create Spell"),Tl.forEach(d),il.forEach(d),Se.forEach(d),this.h()},h(){f(l,"class",vr),f(m,"class","input"),f(m,"type","text"),f(m,"placeholder","Name..."),f(p,"class","label col-span-5"),f(N,"class","input variant-form-material"),f(N,"type","text"),f(N,"placeholder","Casting time..."),f(E,"class","label"),f(j,"class","input variant-form-material"),f(j,"type","text"),f(j,"placeholder","Range..."),f(w,"class","label"),f(z,"class","input variant-form-material"),f(z,"type","text"),f(z,"placeholder","Duration..."),f(Y,"class","label"),f(X,"class","input variant-form-material"),f(X,"type","text"),f(X,"placeholder","Level..."),f($,"class","label"),f(ne,"class","input variant-form-material"),f(ne,"type","text"),f(ne,"placeholder","School..."),f(F,"class","label"),f(he,"name","Description"),f(he,"class","textarea"),f(he,"placeholder","Description..."),f(ie,"class","label col-span-5"),f(Ae,"class","input variant-form-material"),f(Ae,"type","text"),f(Ae,"placeholder","Classes..."),f(x,"class","label"),f(ue,"class","input variant-form-material"),f(ue,"type","text"),f(ue,"placeholder","Concentration..."),f(ye,"class","label"),f(Le,"class","input variant-form-material"),f(Le,"type","text"),f(Le,"placeholder","Ritual..."),f(Te,"class","label"),f(ge,"class","input variant-form-material"),f(ge,"type","text"),f(ge,"placeholder","Components..."),f(Me,"class","label"),f(Ke,"class","input variant-form-material"),f(Ke,"type","text"),f(Ke,"placeholder","Material..."),f(se,"class","label"),f(Je,"name","highereLevel"),f(Je,"class","textarea"),f(Je,"placeholder","Description of higher level effects..."),f(it,"class","label col-span-5"),f(Ze,"class","input variant-form-material"),f(Ze,"type","text"),f(Ze,"placeholder","URL or book and page number..."),f($e,"class","label col-span-3"),f(u,"class","modal-form "+gr+" grid grid-cols-5 gap-2"),f(ht,"class",qt="btn "+t[0].buttonNeutral),f(re,"class",Gt="btn "+t[0].buttonPositive),re.disabled=de=!t[1].name,f(pt,"class",At="modal-footer "+t[0].regionFooter),f(e,"class","w-modal-wide "+mr)},m(Jt,Se){U(Jt,e,Se),n(e,l),n(l,s),n(e,r),n(e,o),n(o,c),n(e,h),n(e,u),n(u,p),n(p,v),n(v,y),n(p,k),n(p,m),M(m,t[1].name),n(u,C),n(u,E),n(E,T),n(T,L),n(E,O),n(E,N),M(N,t[1].casting_time),n(u,B),n(u,w),n(w,D),n(D,J),n(w,q),n(w,j),M(j,t[1].range),n(u,G),n(u,Y),n(Y,Z),n(Z,le),n(Y,ae),n(Y,z),M(z,t[1].duration),n(u,Ee),n(u,$),n($,_e),n(_e,ce),n($,ke),n($,X),M(X,t[1].level),n(u,Ie),n(u,F),n(F,H),n(H,V),n(F,fe),n(F,ne),M(ne,t[1].school),n(u,Ue),n(u,ie),n(ie,Oe),n(Oe,pe),n(ie,Fe),n(ie,he),M(he,t[1].desc),n(u,we),n(u,x),n(x,Re),n(Re,K),n(x,oe),n(x,Ae),M(Ae,t[1].class),n(u,De),n(u,ye),n(ye,Ye),n(Ye,Ne),n(ye,xe),n(ye,ue),M(ue,t[1].concentration),n(u,je),n(u,Te),n(Te,Qe),n(Qe,ve),n(Te,qe),n(Te,Le),M(Le,t[1].ritual),n(u,at),n(u,Me),n(Me,rt),n(rt,Xe),n(Me,ft),n(Me,ge),M(ge,t[1].components),n(u,Ge),n(u,se),n(se,He),n(He,We),n(se,nt),n(se,Ke),M(Ke,t[1].material),n(u,Ft),n(u,it),n(it,lt),n(lt,dt),n(it,jt),n(it,Je),M(Je,t[1].higher_level),n(u,vt),n(u,$e),n($e,gt),n(gt,ot),n($e,It),n($e,Ze),M(Ze,t[1].ref),n(e,et),n(e,pt),n(pt,ht),n(ht,ut),n(pt,ze),n(pt,re),n(re,Et),Rt||(Wt=[R(m,"input",t[4]),R(N,"input",t[5]),R(j,"input",t[6]),R(z,"input",t[7]),R(X,"input",t[8]),R(ne,"input",t[9]),R(he,"input",t[10]),R(Ae,"input",t[11]),R(ue,"input",t[12]),R(Le,"input",t[13]),R(ge,"input",t[14]),R(Ke,"input",t[15]),R(Je,"input",t[16]),R(Ze,"input",t[17]),R(ht,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R(re,"click",t[3])],Rt=!0)},p(Jt,Se){t=Jt,Se&4&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),Se&4&&i!==(i=(t[2][0].body??"(body missing)")+"")&&Be(c,i),Se&2&&m.value!==t[1].name&&M(m,t[1].name),Se&2&&N.value!==t[1].casting_time&&M(N,t[1].casting_time),Se&2&&j.value!==t[1].range&&M(j,t[1].range),Se&2&&z.value!==t[1].duration&&M(z,t[1].duration),Se&2&&X.value!==t[1].level&&M(X,t[1].level),Se&2&&ne.value!==t[1].school&&M(ne,t[1].school),Se&2&&M(he,t[1].desc),Se&2&&Ae.value!==t[1].class&&M(Ae,t[1].class),Se&2&&ue.value!==t[1].concentration&&M(ue,t[1].concentration),Se&2&&Le.value!==t[1].ritual&&M(Le,t[1].ritual),Se&2&&ge.value!==t[1].components&&M(ge,t[1].components),Se&2&&Ke.value!==t[1].material&&M(Ke,t[1].material),Se&2&&M(Je,t[1].higher_level),Se&2&&Ze.value!==t[1].ref&&M(Ze,t[1].ref),Se&1&&qt!==(qt="btn "+t[0].buttonNeutral)&&f(ht,"class",qt),Se&1&&Gt!==(Gt="btn "+t[0].buttonPositive)&&f(re,"class",Gt),Se&2&&de!==(de=!t[1].name)&&(re.disabled=de),Se&1&&At!==(At="modal-footer "+t[0].regionFooter)&&f(pt,"class",At)},d(Jt){Jt&&d(e),Rt=!1,ct(Wt)}}}function _r(t){let e,l=t[2][0]&&Ss(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,[s]){a[2][0]?l?l.p(a,s):(l=Ss(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(a){l&&l.d(a),a&&d(e)}}}const mr="card p-4 w-modal shadow-xl space-y-4 overflow-auto",vr="text-2xl font-bold",gr="border border-surface-500 p-4 space-y-4 rounded-container-token";function Er(t,e,l){let a,s;te(t,Al,B=>l(18,a=B)),te(t,Ce,B=>l(2,s=B));let{parent:r}=e,o={id:"",tag:"",ref:"",note:"",equipped:!1,archetype:"",casting_time:"1 action",circles:"",class:"",components:"V, S, M",concentration:"no",desc:"",duration:"Instantaneous",higher_level:"",level:"1st-level",material:"",name:"",range:"0 feet",ritual:"no",school:""};function i(){l(1,o.id=Sl(o.name),o),l(1,o.tag=ml(),o),tt(Al,a.userSpells=[...a.userSpells,o],a),Ce.close()}function c(){o.name=this.value,l(1,o)}function h(){o.casting_time=this.value,l(1,o)}function u(){o.range=this.value,l(1,o)}function p(){o.duration=this.value,l(1,o)}function v(){o.level=this.value,l(1,o)}function y(){o.school=this.value,l(1,o)}function k(){o.desc=this.value,l(1,o)}function m(){o.class=this.value,l(1,o)}function C(){o.concentration=this.value,l(1,o)}function E(){o.ritual=this.value,l(1,o)}function T(){o.components=this.value,l(1,o)}function L(){o.material=this.value,l(1,o)}function O(){o.higher_level=this.value,l(1,o)}function N(){o.ref=this.value,l(1,o)}return t.$$set=B=>{"parent"in B&&l(0,r=B.parent)},[r,o,s,i,c,h,u,p,v,y,k,m,C,E,T,L,O,N]}class kr extends Nt{constructor(e){super(),Tt(this,e,Er,_r,mt,{parent:0})}}function Ps(t,e,l){const a=t.slice();return a[8]=e[l],a}function Cs(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C,E,T,L,O,N,B;return i=new wl({props:{autocollapse:!0,$$slots:{default:[Ir]},$$scope:{ctx:t}}}),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),St(i.$$.fragment),c=I(),h=b("div"),u=b("footer"),p=b("button"),v=S("Cancel"),k=I(),m=b("button"),C=S("Add Spells"),this.h()},l(w){e=_(w,"DIV",{class:!0});var D=g(e);l=_(D,"HEADER",{class:!0});var J=g(l);s=P(J,a),J.forEach(d),r=A(D),o=_(D,"DIV",{class:!0});var q=g(o);Dt(i.$$.fragment,q),q.forEach(d),c=A(D),h=_(D,"DIV",{class:!0});var j=g(h);u=_(j,"FOOTER",{class:!0});var G=g(u);p=_(G,"BUTTON",{class:!0});var Y=g(p);v=P(Y,"Cancel"),Y.forEach(d),k=A(G),m=_(G,"BUTTON",{class:!0});var Z=g(m);C=P(Z,"Add Spells"),Z.forEach(d),G.forEach(d),j.forEach(d),D.forEach(d),this.h()},h(){f(l,"class",Sr),f(o,"class","modal-form "+Pr+" max-h-[720px] overflow-auto"),f(p,"class",y="btn "+t[0].buttonNeutral),f(m,"class",E="btn "+t[0].buttonPositive),m.disabled=T=t[1].length<1,f(u,"class",L="modal-footer "+t[0].regionFooter),f(h,"class","justify-between"),f(e,"class","w-modal-wide "+Lr)},m(w,D){U(w,e,D),n(e,l),n(l,s),n(e,r),n(e,o),Pt(i,o,null),n(e,c),n(e,h),n(h,u),n(u,p),n(p,v),n(u,k),n(u,m),n(m,C),O=!0,N||(B=[R(p,"click",Ce.close),R(m,"click",t[4])],N=!0)},p(w,D){(!O||D&4)&&a!==(a=(w[2][0].title??"(title missing)")+"")&&Be(s,a);const J={};D&2050&&(J.$$scope={dirty:D,ctx:w}),i.$set(J),(!O||D&1&&y!==(y="btn "+w[0].buttonNeutral))&&f(p,"class",y),(!O||D&1&&E!==(E="btn "+w[0].buttonPositive))&&f(m,"class",E),(!O||D&2&&T!==(T=w[1].length<1))&&(m.disabled=T),(!O||D&1&&L!==(L="modal-footer "+w[0].regionFooter))&&f(u,"class",L)},i(w){O||(W(i.$$.fragment,w),O=!0)},o(w){ee(i.$$.fragment,w),O=!1},d(w){w&&d(e),Ct(i),N=!1,ct(B)}}}function Os(t){let e,l,a=Ut(t[1],t[8].id).qty+"",s,r,o,i,c,h;function u(){return t[6](t[8])}return{c(){e=b("span"),l=b("strong"),s=S(a),r=I(),o=b("button"),i=b("iconify-icon"),this.h()},l(p){e=_(p,"SPAN",{class:!0});var v=g(e);l=_(v,"STRONG",{});var y=g(l);s=P(y,a),y.forEach(d),v.forEach(d),r=A(p),o=_(p,"BUTTON",{class:!0});var k=g(o);i=_(k,"ICONIFY-ICON",{icon:!0}),g(i).forEach(d),k.forEach(d),this.h()},h(){f(e,"class","inline-block text-orange-400"),xt(i,"icon","fa:minus"),f(o,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(p,v){U(p,e,v),n(e,l),n(l,s),U(p,r,v),U(p,o,v),n(o,i),c||(h=R(o,"click",u),c=!0)},p(p,v){t=p,v&2&&a!==(a=Ut(t[1],t[8].id).qty+"")&&Be(s,a)},d(p){p&&d(e),p&&d(r),p&&d(o),c=!1,h()}}}function yr(t){let e,l,a,s=Ut(t[1],t[8].id).in,r,o,i;function c(){return t[5](t[8])}let h=s&&Os(t);return{c(){e=b("button"),l=b("iconify-icon"),a=I(),h&&h.c(),r=I(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var p=g(e);l=_(p,"ICONIFY-ICON",{icon:!0,class:!0}),g(l).forEach(d),p.forEach(d),a=A(u),h&&h.l(u),r=A(u),this.h()},h(){xt(l,"icon","mdi:add-bold"),xt(l,"class","inline-block"),f(e,"class","btn-icon btn-icon-sm variant-soft-surface click:variant-filled-primary")},m(u,p){U(u,e,p),n(e,l),U(u,a,p),h&&h.m(u,p),U(u,r,p),o||(i=R(e,"click",c),o=!0)},p(u,p){t=u,p&2&&(s=Ut(t[1],t[8].id).in),s?h?h.p(t,p):(h=Os(t),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},d(u){u&&d(e),u&&d(a),h&&h.d(u),u&&d(r),o=!1,i()}}}function Nr(t){let e,l=t[8].name+"",a,s,r,o,i=t[8].casting_time+"",c,h,u,p=t[8].range+"",v,y,k,m=t[8].duration+"",C,E,T,L=t[8].level+"",O,N,B,w=t[8].school+"",D,J;return{c(){e=b("h3"),a=S(l),s=I(),r=b("ul"),o=b("li"),c=S(i),h=I(),u=b("li"),v=S(p),y=I(),k=b("li"),C=S(m),E=I(),T=b("li"),O=S(L),N=I(),B=b("li"),D=S(w),J=I(),this.h()},l(q){e=_(q,"H3",{class:!0});var j=g(e);a=P(j,l),j.forEach(d),s=A(q),r=_(q,"UL",{class:!0});var G=g(r);o=_(G,"LI",{class:!0});var Y=g(o);c=P(Y,i),Y.forEach(d),h=A(G),u=_(G,"LI",{class:!0});var Z=g(u);v=P(Z,p),Z.forEach(d),y=A(G),k=_(G,"LI",{class:!0});var le=g(k);C=P(le,m),le.forEach(d),E=A(G),T=_(G,"LI",{class:!0});var ae=g(T);O=P(ae,L),ae.forEach(d),N=A(G),B=_(G,"LI",{class:!0});var z=g(B);D=P(z,w),z.forEach(d),G.forEach(d),J=A(q),this.h()},h(){f(e,"class","text-slate-100/80"),f(o,"class","inline-block text-orange-400/70"),f(u,"class","inline-block text-orange-400/70"),f(k,"class","inline-block text-orange-400/70"),f(T,"class","inline-block"),f(B,"class","inline-block"),f(r,"class","text-slate-300/70 text-sm space-x-2")},m(q,j){U(q,e,j),n(e,a),U(q,s,j),U(q,r,j),n(r,o),n(o,c),n(r,h),n(r,u),n(u,v),n(r,y),n(r,k),n(k,C),n(r,E),n(r,T),n(T,O),n(r,N),n(r,B),n(B,D),U(q,J,j)},p:Ve,d(q){q&&d(e),q&&d(s),q&&d(r),q&&d(J)}}}function Tr(t){let e,l,a,s,r,o,i=t[8].desc+"",c,h,u,p,v,y=t[8].class+"",k,m,C,E,T,L=t[8].concentration+"",O,N,B,w,D,J=t[8].ritual+"",q,j,G,Y,Z,le=t[8].components+"",ae,z,Ee,$,_e,ce=t[8].material+"",ke,X,Ie,F,H,V,fe=t[8].higher_level+"",ne,Ue,ie,Oe,pe,Fe=t[8].page+"",he,we;return{c(){e=b("div"),l=b("div"),a=b("ul"),s=b("li"),r=S("Description: "),o=b("span"),c=S(i),h=I(),u=b("li"),p=S("Class: "),v=b("span"),k=S(y),m=I(),C=b("li"),E=S("Concentration: "),T=b("span"),O=S(L),N=I(),B=b("li"),w=S("Ritual: "),D=b("span"),q=S(J),j=I(),G=b("li"),Y=S("Components: "),Z=b("span"),ae=S(le),z=I(),Ee=b("li"),$=S("Material: "),_e=b("span"),ke=S(ce),X=I(),Ie=b("li"),F=b("span"),H=S("Higher level:"),V=b("span"),ne=S(fe),Ue=I(),ie=b("li"),Oe=S("Referece page: "),pe=b("span"),he=S(Fe),we=I(),this.h()},l(x){e=_(x,"DIV",{class:!0});var Re=g(e);l=_(Re,"DIV",{class:!0});var K=g(l);a=_(K,"UL",{class:!0});var oe=g(a);s=_(oe,"LI",{});var Ae=g(s);r=P(Ae,"Description: "),o=_(Ae,"SPAN",{class:!0});var De=g(o);c=P(De,i),De.forEach(d),Ae.forEach(d),h=A(oe),u=_(oe,"LI",{});var ye=g(u);p=P(ye,"Class: "),v=_(ye,"SPAN",{class:!0});var Ye=g(v);k=P(Ye,y),Ye.forEach(d),ye.forEach(d),m=A(oe),C=_(oe,"LI",{});var Ne=g(C);E=P(Ne,"Concentration: "),T=_(Ne,"SPAN",{class:!0});var xe=g(T);O=P(xe,L),xe.forEach(d),Ne.forEach(d),N=A(oe),B=_(oe,"LI",{});var ue=g(B);w=P(ue,"Ritual: "),D=_(ue,"SPAN",{class:!0});var je=g(D);q=P(je,J),je.forEach(d),ue.forEach(d),j=A(oe),G=_(oe,"LI",{});var Te=g(G);Y=P(Te,"Components: "),Z=_(Te,"SPAN",{class:!0});var Qe=g(Z);ae=P(Qe,le),Qe.forEach(d),Te.forEach(d),z=A(oe),Ee=_(oe,"LI",{});var ve=g(Ee);$=P(ve,"Material: "),_e=_(ve,"SPAN",{class:!0});var qe=g(_e);ke=P(qe,ce),qe.forEach(d),ve.forEach(d),X=A(oe),Ie=_(oe,"LI",{});var Le=g(Ie);F=_(Le,"SPAN",{class:!0});var at=g(F);H=P(at,"Higher level:"),at.forEach(d),V=_(Le,"SPAN",{class:!0});var Me=g(V);ne=P(Me,fe),Me.forEach(d),Le.forEach(d),Ue=A(oe),ie=_(oe,"LI",{});var rt=g(ie);Oe=P(rt,"Referece page: "),pe=_(rt,"SPAN",{class:!0});var Xe=g(pe);he=P(Xe,Fe),Xe.forEach(d),rt.forEach(d),oe.forEach(d),K.forEach(d),Re.forEach(d),we=A(x),this.h()},h(){f(o,"class","ml-2 pl-2 border-l-2 text-justify text-slate-300/70 border-slate-300/50"),f(v,"class","pl-2 text-slate-300/70"),f(T,"class","pl-2 text-slate-300/70"),f(D,"class","pl-2 text-slate-300/70"),f(Z,"class","pl-2 text-slate-300/70"),f(_e,"class","pl-2 text-slate-300/70"),f(F,"class","whitespace-nowrap"),f(V,"class","ml-2 pl-2 border-l-2 text-justify text-slate-300/70 border-slate-300/50"),f(pe,"class","pl-2 text-slate-300/70"),f(a,"class","list"),f(l,"class","space-y-2 ml-2 p-2"),f(e,"class","ml-4 border-l-2 border-b-2 border-slate-500/70 rounded-sm text-slate-100/80")},m(x,Re){U(x,e,Re),n(e,l),n(l,a),n(a,s),n(s,r),n(s,o),n(o,c),n(a,h),n(a,u),n(u,p),n(u,v),n(v,k),n(a,m),n(a,C),n(C,E),n(C,T),n(T,O),n(a,N),n(a,B),n(B,w),n(B,D),n(D,q),n(a,j),n(a,G),n(G,Y),n(G,Z),n(Z,ae),n(a,z),n(a,Ee),n(Ee,$),n(Ee,_e),n(_e,ke),n(a,X),n(a,Ie),n(Ie,F),n(F,H),n(Ie,V),n(V,ne),n(a,Ue),n(a,ie),n(ie,Oe),n(ie,pe),n(pe,he),U(x,we,Re)},p:Ve,d(x){x&&d(e),x&&d(we)}}}function Bs(t){let e,l;return e=new Dl({props:{id:t[8].id,$$slots:{content:[Tr],summary:[Nr],lead:[yr]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},l(a){Dt(e.$$.fragment,a)},m(a,s){Pt(e,a,s),l=!0},p(a,s){const r={};s&2050&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){Ct(e,a)}}}function Ir(t){let e,l,a=t[3],s=[];for(let o=0;o<a.length;o+=1)s[o]=Bs(Ps(t,a,o));const r=o=>ee(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Q()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Q()},m(o,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,i);U(o,e,i),l=!0},p(o,i){if(i&10){a=o[3];let c;for(c=0;c<a.length;c+=1){const h=Ps(o,a,c);s[c]?(s[c].p(h,i),W(s[c],1)):(s[c]=Bs(h),s[c].c(),W(s[c],1),s[c].m(e.parentNode,e))}for(bt(),c=a.length;c<s.length;c+=1)r(c);_t()}},i(o){if(!l){for(let i=0;i<a.length;i+=1)W(s[i]);l=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)ee(s[i]);l=!1},d(o){Ht(s,o),o&&d(e)}}}function Ar(t){let e,l,a=t[2][0]&&Cs(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[2][0]?a?(a.p(s,r),r&4&&W(a,1)):(a=Cs(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const Lr="card p-4 w-modal shadow-xl space-y-4",Sr="text-2xl font-bold",Pr="border border-surface-500 p-4 space-y-4 rounded-container-token";function Cr(t,e,l){var p;let a,s;te(t,Al,v=>l(7,a=v)),te(t,Ce,v=>l(2,s=v));let{parent:r}=e;const o=(p=s[0].meta)==null?void 0:p.spells;let i=[];function c(){tt(Al,a.spells=[...a.spells,...i],a),l(1,i=[]),console.log(a.spells),Ce.close()}const h=v=>{const y={...v,equipped:!1,note:"",tag:ml()};l(1,i=[...i,y])},u=v=>{const y=i.findIndex(k=>v.id===k.id);y!==-1&&(i.splice(y,1),l(1,i=[...i]))};return t.$$set=v=>{"parent"in v&&l(0,r=v.parent)},[r,i,s,o,c,h,u]}class Or extends Nt{constructor(e){super(),Tt(this,e,Cr,Ar,mt,{parent:0})}}function ws(t){let e,l,a=(t[1][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C;return i=new mn({props:{language:"json",code:`${t[2]()}`}}),{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),St(i.$$.fragment),c=I(),h=b("footer"),u=b("button"),p=S("Close"),this.h()},l(E){e=_(E,"DIV",{class:!0});var T=g(e);l=_(T,"HEADER",{class:!0});var L=g(l);s=P(L,a),L.forEach(d),r=A(T),o=_(T,"DIV",{class:!0});var O=g(o);Dt(i.$$.fragment,O),O.forEach(d),c=A(T),h=_(T,"FOOTER",{class:!0});var N=g(h);u=_(N,"BUTTON",{class:!0});var B=g(u);p=P(B,"Close"),B.forEach(d),N.forEach(d),T.forEach(d),this.h()},h(){f(l,"class",Dr),f(o,"class","modal-form "+Ur+" max-h-[720px] overflow-auto"),f(u,"class",v="btn "+t[0].buttonPositive),f(h,"class",y="modal-footer "+t[0].regionFooter),f(e,"class","modal-example-form "+wr)},m(E,T){U(E,e,T),n(e,l),n(l,s),n(e,r),n(e,o),Pt(i,o,null),n(e,c),n(e,h),n(h,u),n(u,p),k=!0,m||(C=R(u,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),m=!0)},p(E,T){t=E,(!k||T&2)&&a!==(a=(t[1][0].title??"(title missing)")+"")&&Be(s,a),(!k||T&1&&v!==(v="btn "+t[0].buttonPositive))&&f(u,"class",v),(!k||T&1&&y!==(y="modal-footer "+t[0].regionFooter))&&f(h,"class",y)},i(E){k||(W(i.$$.fragment,E),k=!0)},o(E){ee(i.$$.fragment,E),k=!1},d(E){E&&d(e),Ct(i),m=!1,C()}}}function Br(t){let e,l,a=t[1][0]&&ws(t);return{c(){a&&a.c(),e=Q()},l(s){a&&a.l(s),e=Q()},m(s,r){a&&a.m(s,r),U(s,e,r),l=!0},p(s,[r]){s[1][0]?a?(a.p(s,r),r&2&&W(a,1)):(a=ws(s),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),_t())},i(s){l||(W(a),l=!0)},o(s){ee(a),l=!1},d(s){a&&a.d(s),s&&d(e)}}}const wr="card p-4 w-modal shadow-xl space-y-4",Dr="text-2xl font-bold",Ur="border border-surface-500 p-4 space-y-4 rounded-container-token";function Fr(t,e,l){let a,s,r,o,i,c,h,u,p,v,y,k,m,C;te(t,Al,L=>l(3,a=L)),te(t,Vt,L=>l(4,s=L)),te(t,ul,L=>l(5,r=L)),te(t,Bl,L=>l(6,o=L)),te(t,xl,L=>l(7,i=L)),te(t,$l,L=>l(8,c=L)),te(t,ea,L=>l(9,h=L)),te(t,Kl,L=>l(10,u=L)),te(t,ta,L=>l(11,p=L)),te(t,la,L=>l(12,v=L)),te(t,aa,L=>l(13,y=L)),te(t,sa,L=>l(14,k=L)),te(t,na,L=>l(15,m=L)),te(t,Ce,L=>l(1,C=L));let{parent:E}=e;const T=()=>{const L={metadata:{...m},state:{...k},avatar:{...y},attributes:{...v},health:{...p},abilities:{...u},saves:{...h},attack:{...c},misc:{...i},skills:{...o},feats:{...r},gear:{...s},spells:{...a}};return JSON.stringify(L)};return t.$$set=L=>{"parent"in L&&l(0,E=L.parent)},[E,C,T]}class Rr extends Nt{constructor(e){super(),Tt(this,e,Fr,Br,mt,{parent:0})}}function Ds(t){let e,l,a=(t[2][0].title??"(title missing)")+"",s,r,o,i,c,h,u,p,v,y,k,m,C,E,T,L;return{c(){e=b("div"),l=b("header"),s=S(a),r=I(),o=b("div"),i=b("textarea"),c=I(),h=b("footer"),u=b("button"),p=S("Cancel"),y=I(),k=b("button"),m=S("Import"),this.h()},l(O){e=_(O,"DIV",{class:!0});var N=g(e);l=_(N,"HEADER",{class:!0});var B=g(l);s=P(B,a),B.forEach(d),r=A(N),o=_(N,"DIV",{class:!0});var w=g(o);i=_(w,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),g(i).forEach(d),w.forEach(d),c=A(N),h=_(N,"FOOTER",{class:!0});var D=g(h);u=_(D,"BUTTON",{class:!0});var J=g(u);p=P(J,"Cancel"),J.forEach(d),y=A(D),k=_(D,"BUTTON",{class:!0});var q=g(k);m=P(q,"Import"),q.forEach(d),D.forEach(d),N.forEach(d),this.h()},h(){f(l,"class",Vr),f(i,"class","textarea"),f(i,"rows","20"),f(i,"placeholder","Character sheet JSON goes here..."),f(o,"class","modal-form "+jr+" max-h-[720px] overflow-auto"),f(u,"class",v="btn "+t[0].buttonNeutral),f(k,"class",C="btn "+t[0].buttonPositive),f(h,"class",E="modal-footer "+t[0].regionFooter),f(e,"class","modal-example-form "+Hr)},m(O,N){U(O,e,N),n(e,l),n(l,s),n(e,r),n(e,o),n(o,i),M(i,t[1]),n(e,c),n(e,h),n(h,u),n(u,p),n(h,y),n(h,k),n(k,m),T||(L=[R(i,"input",t[4]),R(u,"click",function(){sl(t[0].onClose)&&t[0].onClose.apply(this,arguments)}),R(k,"click",t[3])],T=!0)},p(O,N){t=O,N&4&&a!==(a=(t[2][0].title??"(title missing)")+"")&&Be(s,a),N&2&&M(i,t[1]),N&1&&v!==(v="btn "+t[0].buttonNeutral)&&f(u,"class",v),N&1&&C!==(C="btn "+t[0].buttonPositive)&&f(k,"class",C),N&1&&E!==(E="modal-footer "+t[0].regionFooter)&&f(h,"class",E)},d(O){O&&d(e),T=!1,ct(L)}}}function Mr(t){let e,l=t[2][0]&&Ds(t);return{c(){l&&l.c(),e=Q()},l(a){l&&l.l(a),e=Q()},m(a,s){l&&l.m(a,s),U(a,e,s)},p(a,[s]){a[2][0]?l?l.p(a,s):(l=Ds(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(a){l&&l.d(a),a&&d(e)}}}const Hr="card p-4 w-modal shadow-xl space-y-4",Vr="text-2xl font-bold",jr="border border-surface-500 p-4 space-y-4 rounded-container-token";function qr(t,e,l){let a,s,r,o,i,c,h,u,p,v,y,k,m,C;te(t,Al,N=>l(5,a=N)),te(t,Vt,N=>l(6,s=N)),te(t,ul,N=>l(7,r=N)),te(t,Bl,N=>l(8,o=N)),te(t,xl,N=>l(9,i=N)),te(t,$l,N=>l(10,c=N)),te(t,ea,N=>l(11,h=N)),te(t,Kl,N=>l(12,u=N)),te(t,ta,N=>l(13,p=N)),te(t,la,N=>l(14,v=N)),te(t,aa,N=>l(15,y=N)),te(t,sa,N=>l(16,k=N)),te(t,na,N=>l(17,m=N)),te(t,Ce,N=>l(2,C=N));let{parent:E}=e,T="";const L=()=>{const N=JSON.parse(T);tt(na,m=N.metadata,m),tt(sa,k=N.state,k),tt(aa,y=N.avatar,y),tt(la,v=N.attributes,v),tt(ta,p=N.health,p),tt(Kl,u=N.abilities,u),tt(ea,h=N.saves,h),tt($l,c=N.attack,c),tt(xl,i=N.misc,i),tt(Bl,o=N.skills,o),tt(ul,r=N.feats,r),tt(Vt,s=N.gear,s),tt(Al,a=N.spells,a),Ce.close()};function O(){T=this.value,l(1,T)}return t.$$set=N=>{"parent"in N&&l(0,E=N.parent)},[E,T,C,L,O]}class Gr extends Nt{constructor(e){super(),Tt(this,e,qr,Mr,mt,{parent:0})}}function Jr(t){let e,l;return{c(){e=b("p"),l=S("Nothing to see here.")},l(a){e=_(a,"P",{});var s=g(e);l=P(s,"Nothing to see here."),s.forEach(d)},m(a,s){U(a,e,s),n(e,l)},p:Ve,d(a){a&&d(e)}}}function zr(t){let e,l;return{c(){e=b("h3"),l=S("Game Master Menu")},l(a){e=_(a,"H3",{});var s=g(e);l=P(s,"Game Master Menu"),s.forEach(d)},m(a,s){U(a,e,s),n(e,l)},p:Ve,d(a){a&&d(e)}}}function Wr(t){let e,l,a,s,r,o,i,c,h,u,p,v,y;return{c(){e=b("div"),l=b("h3"),a=S("Player Menu"),s=I(),r=b("hr"),o=I(),i=b("button"),c=S("Export to JSON"),h=I(),u=b("button"),p=S("Import from JSON"),this.h()},l(k){e=_(k,"DIV",{class:!0});var m=g(e);l=_(m,"H3",{class:!0});var C=g(l);a=P(C,"Player Menu"),C.forEach(d),s=A(m),r=_(m,"HR",{}),o=A(m),i=_(m,"BUTTON",{title:!0,class:!0});var E=g(i);c=P(E,"Export to JSON"),E.forEach(d),h=A(m),u=_(m,"BUTTON",{title:!0,class:!0});var T=g(u);p=P(T,"Import from JSON"),T.forEach(d),m.forEach(d),this.h()},h(){f(l,"class","p-4"),f(i,"title","Export Character JSON"),f(i,"class","btn btn-sm variant-soft-surface m-4"),f(u,"title","Import Character JSON"),f(u,"class","btn btn-sm variant-soft-surface m-4"),f(e,"class","p-4")},m(k,m){U(k,e,m),n(e,l),n(l,a),n(e,s),n(e,r),n(e,o),n(e,i),n(i,c),n(e,h),n(e,u),n(u,p),v||(y=[R(i,"click",Rn),R(u,"click",Mn)],v=!0)},p:Ve,d(k){k&&d(e),v=!1,ct(y)}}}function Yr(t){let e;function l(r,o){return r[0].id==="menuPlayer"?Wr:r[0].id==="menuGameMaster"?zr:Jr}let a=l(t),s=a(t);return{c(){s.c(),e=Q()},l(r){s.l(r),e=Q()},m(r,o){s.m(r,o),U(r,e,o)},p(r,o){a===(a=l(r))&&s?s.p(r,o):(s.d(1),s=a(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){s.d(r),r&&d(e)}}}function Xr(t){let e,l,a,s,r;e=new Fn({props:{$$slots:{default:[Yr]},$$scope:{ctx:t}}}),a=new Cn({props:{components:t[1]}}),a.$on("backdrop",Ce.close);const o=t[2].default,i=Ms(o,t,t[3],null);return{c(){St(e.$$.fragment),l=I(),St(a.$$.fragment),s=I(),i&&i.c()},l(c){Dt(e.$$.fragment,c),l=A(c),Dt(a.$$.fragment,c),s=A(c),i&&i.l(c)},m(c,h){Pt(e,c,h),U(c,l,h),Pt(a,c,h),U(c,s,h),i&&i.m(c,h),r=!0},p(c,[h]){const u={};h&9&&(u.$$scope={dirty:h,ctx:c}),e.$set(u),i&&i.p&&(!r||h&8)&&Hs(i,o,c,c[3],r?js(o,c[3],h,null):Vs(c[3]),null)},i(c){r||(W(e.$$.fragment,c),W(a.$$.fragment,c),W(i,c),r=!0)},o(c){ee(e.$$.fragment,c),ee(a.$$.fragment,c),ee(i,c),r=!1},d(c){Ct(e,c),c&&d(l),Ct(a,c),c&&d(s),i&&i.d(c)}}}function Kr(t,e,l){let a;te(t,Il,i=>l(0,a=i));let{$$slots:s={},$$scope:r}=e;const o={modalNewSkill:{ref:Jn},modalAddFeat:{ref:oo},modalNewFeat:{ref:Qn},modalAddArmor:{ref:Oo},modalNewArmor:{ref:mo},modalAddWeapon:{ref:Qo},modalNewWeapon:{ref:Ro},modalNewGear:{ref:lr},modalAddGear:{ref:br},modalNewSpell:{ref:kr},modalAddSpell:{ref:Or},modalExportCharJson:{ref:Rr},modalImportCharJson:{ref:Gr}};return t.$$set=i=>{"$$scope"in i&&l(3,r=i.$$scope)},[a,o,s,r]}class $r extends Nt{constructor(e){super(),Tt(this,e,Kr,Xr,mt,{})}}export{$r as component,xr as universal};
